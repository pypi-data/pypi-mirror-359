Metadata-Version: 2.4
Name: ckanext-dc_view
Version: 1.0.1
Summary: Preview DC data on DCOR
Author: Paul Müller
Maintainer-email: Paul Müller <dev@craban.de>
License: GNU Affero General Public License v3 or later (AGPLv3+)
Project-URL: source, https://github.com/DCOR-dev/ckanext-dc_view
Project-URL: tracker, https://github.com/DCOR-dev/ckanext-dc_view/issues
Project-URL: changelog, https://github.com/DCOR-dev/ckanext-dc_view/blob/main/CHANGELOG
Keywords: DC,DCOR,deformability,cytometry
Classifier: Operating System :: OS Independent
Classifier: Programming Language :: Python :: 3
Classifier: Topic :: Scientific/Engineering :: Visualization
Classifier: Intended Audience :: Science/Research
Requires-Python: <4,>=3.8
Description-Content-Type: text/x-rst
License-File: LICENSE
Requires-Dist: ckan<3,>=2.10.4
Requires-Dist: dclab>=0.60.9
Requires-Dist: dcor_shared>=0.12.0
Requires-Dist: matplotlib
Requires-Dist: numpy>=1.19
Requires-Dist: pillow
Dynamic: license-file

ckanext-dc_view
===============

|PyPI Version| |Build Status| |Coverage Status|

A CKAN resource view for DC data. The preview includes metadata from
the HDF5 attributes and a summary plot (scatter plot of brightness vs. area
and image, contour, mask, and fluorescence data for one event). This plugin
registers a background job for generating the overview plot after a DC
resource has been created.

This extensione implements:

- A default view for DC (mimetype) resources
- A background job that generates the preview image
- A background job that uploads preview images to the S3 object store
- A route that makes the preview image available via
  "/dataset/{id}/resource/{resource_id}/preview.jpg"


- CLI:

  - add CKAN command `run-jobs-dc-view` that runs all background
    jobs for all resources (if not already done)

Installation
------------

::

    pip install ckanext-dc_view


Add this extension to the plugins and defaul_views in ckan.ini:

::

    ckan.plugins = [...] dc_view
    ckan.views.default_views = [...] dc_view


Testing
-------
Testing is implemented via GitHub Actions. You may also set up a local
docker container with CKAN and MinIO. Take a look at the GitHub Actions
workflow for more information.


.. |PyPI Version| image:: https://img.shields.io/pypi/v/ckanext.dc_view.svg
   :target: https://pypi.python.org/pypi/ckanext.dc_view
.. |Build Status| image:: https://img.shields.io/github/actions/workflow/status/DCOR-dev/ckanext-dc_view/check.yml
   :target: https://github.com/DCOR-dev/ckanext-dc_view/actions?query=workflow%3AChecks
.. |Coverage Status| image:: https://img.shields.io/codecov/c/github/DCOR-dev/ckanext-dc_view
   :target: https://codecov.io/gh/DCOR-dev/ckanext-dc_view
