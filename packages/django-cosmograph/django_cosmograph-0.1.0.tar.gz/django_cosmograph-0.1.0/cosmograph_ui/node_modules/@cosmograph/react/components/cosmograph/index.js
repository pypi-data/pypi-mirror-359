import n,{useRef as l,useState as r,useEffect as o,useImperativeHandle as e}from"react";import{Cosmograph as t}from"@cosmograph/cosmograph";import{useCosmograph as u}from"../../context.js";function s({style:s,className:i,nodes:a,links:c,...d},v){const m=u(),f=l(null),p=l(),[g,h]=r(!1);return o((()=>(f.current&&(p.current=new t(f.current,d),h(!0),null==m||m.initCosmograph(p.current)),()=>{var n;null===(n=p.current)||void 0===n||n.remove()})),[]),o((()=>{var n;null===(n=p.current)||void 0===n||n.setConfig(d)}),[d]),o((()=>{var n;(a||c)&&(null===(n=p.current)||void 0===n||n.setData(null!=a?a:[],null!=c?c:[]))}),[a,c]),o((()=>{var n,l,r;a||c||!(null==m?void 0:m.nodes)&&!(null==m?void 0:m.links)||null===(n=p.current)||void 0===n||n.setData(null!==(l=null==m?void 0:m.nodes)&&void 0!==l?l:[],null!==(r=null==m?void 0:m.links)&&void 0!==r?r:[])}),[null==m?void 0:m.nodes,null==m?void 0:m.links]),e(v,(()=>p.current),[g]),n.createElement("div",{style:{...s},className:i,ref:f})}const i=n.forwardRef(s);export{i as Cosmograph,s as CosmographFC};
//# sourceMappingURL=index.js.map
