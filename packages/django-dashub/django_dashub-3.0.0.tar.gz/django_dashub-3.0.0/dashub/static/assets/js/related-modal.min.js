!function(){const o=window.jQuery||window.django?.jQuery;o?function(o){"use strict";let e=0;function a(){return window.top!==window.self}function d(){if(a()){window.parent.dismissModal()}else o(".related-modal-"+e).modal("hide"),e-=1}function t(d,t,n){if(a()){return void window.parent.showModal(d,t,n)}e+=1,o.showModal({title:d,body:t,backdrop:!1,modalDialogClass:"modal-dialog-centered modal-lg",modalClass:"modal fade popupmodal show related-modal-"+e,onDispose:function(){const e=o("div[class*='related-modal-']").last();e&&e.focus()}});const l=o("div[class*='related-modal-']").find("#related-modal-iframe");!0===n.data.lookup&&l.on("load",(function(){o(this).get(0).contentWindow.opener=window}))}function n(e){let a=o(this),d=a.attr("href")||"";if(""===d)return;e.preventDefault(),e.stopImmediatePropagation(),a.blur();let n=a.attr("id"),l=d;const i=a.attr("title");if(!0!==e.data.lookup){let o=String(Math.round(999999*Math.random()));-1===l.indexOf("?")?l+="?_modal="+o:l+="&_modal="+o}-1===l.indexOf("_popup=1")&&(-1===l.indexOf("?")?l+="?_popup=1":l+="&_popup=1");let r='<iframe id="related-modal-iframe" name="'+n+'" src="'+l+'" class="related-iframe"></iframe>',s="related-modal";return window.top!==window.self&&(s+=" related-modal__nested"),t(i,r,e),!1}function l(e,a){let d=o(e);d.removeAttr("onclick"),d.unbind("click"),d.click({lookup:a},n)}function i(){l("a.related-widget-wrapper-link",!1),l("a.related-lookup",!0),l("a.dynamic_raw_id-related-lookup",!0)}window.dismissRelatedObjectModal=d,window.dismissRelatedLookupPopup=function(e,t){const n=e.name.replace(/^(change|add|delete|lookup)_/,"");let l;if(a){const a=o("iframe.related-iframe",e.parent.document).eq(-2);let d;d=a.length?a.contents():o(e.parent.document),l=d.find("#"+n)}else l=o("#"+n);const i=l.val();l.hasClass("vManyToManyRawIdAdminField")&&Boolean(i)?l.val(i+", "+t):l.val(t),d()},window.showModal=t,o(document).ready((function(){i()})),o(document).on("formset:added",i)}(o):console.error("jQuery or django.jQuery not found.")}();