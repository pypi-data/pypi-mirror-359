Metadata-Version: 2.4
Name: ei-cli
Version: 0.16.0
Summary: aws cli for human
Project-URL: Documentation, https://github.com/unknown/ei#readme
Project-URL: Issues, https://github.com/unknown/ei/issues
Project-URL: Source, https://github.com/unknown/ei
Author-email: Ashon <ashon8813@gmail.com>
License-Expression: MIT
Classifier: Development Status :: 4 - Beta
Classifier: Programming Language :: Python
Classifier: Programming Language :: Python :: 3.12
Classifier: Programming Language :: Python :: 3.13
Classifier: Programming Language :: Python :: Implementation :: CPython
Classifier: Programming Language :: Python :: Implementation :: PyPy
Requires-Python: >=3.13
Requires-Dist: boto3>=1.26.42
Requires-Dist: fastapi>=0.103.0
Requires-Dist: mypy-boto3-ec2>=1.26.34
Requires-Dist: mypy-boto3-elasticache>=1.26.11.post1
Requires-Dist: mypy-boto3-elbv2>=1.26.12
Requires-Dist: mypy-boto3-rds>=1.26.47
Requires-Dist: mypy-boto3-s3>=1.26.58
Requires-Dist: mypy-boto3>=1.26.42
Requires-Dist: pydantic-settings>=2.0.3
Requires-Dist: rich>=13.0.0
Requires-Dist: typer>=0.7.0
Requires-Dist: uvicorn>=0.22.0; python_version < '3.8'
Requires-Dist: uvicorn>=0.23.2; python_version >= '3.8'
Requires-Dist: uvloop>=0.17.0
Description-Content-Type: text/markdown

# A`[ei]`WS CLI

AWS CLI for humans. [![PyPI version](https://badge.fury.io/py/ei-cli.svg)](https://badge.fury.io/py/ei-cli)

[![codecov](https://codecov.io/gh/Ashon/ei/branch/main/graph/badge.svg?token=HSW2NN23BY)](https://codecov.io/gh/Ashon/ei)
[![CI-Python-3.12](https://github.com/Ashon/ei/actions/workflows/ci-py312.yml/badge.svg)](https://github.com/Ashon/ei/actions/workflows/ci-py312.yml)
[![CI-Python-3.13](https://github.com/Ashon/ei/actions/workflows/ci-py313.yml/badge.svg)](https://github.com/Ashon/ei/actions/workflows/ci-py313.yml)

## Installation

Install via [pypi](https://pypi.org/project/ei-cli/)

``` sh
pip install ei-cli
```

Install via github

``` sh
pip install git+https://github.com/ashon/ei
```

## Configuration

``` sh
# set environment variables

# comma seperated account ids
EI_ACCOUNT_IDS='000000000000,111111111111'

# comma seperated region list
EI_REGIONS='ap-northeast-1,ap-northeast-2,ca-central-1,eu-west-2'

# sts assume role pattern for cross account
EI_ASSUME_ROLE_ARN_PATTERN='arn:aws:iam::{account_id}:role/my-awesome-role'
EI_ASSUME_ROLE_SESSION_NAME='AssumeRoleEi'

# use aws-vault for resolve aws environment vars
AWS_REGION=None
AWS_ACCESS_KEY_ID=None
AWS_SECRET_ACCESS_KEY=None
AWS_SECURITY_TOKEN=None
AWS_SESSION_EXPIRATION=None
```

## Run

![ei](https://github.com/Ashon/ei/raw/main/assets/ei.png)

Using aws-vault for cross account, region resource retrieving.

```
# list vpcs across all regions, and all accounts ($EI_REGIONS, $EI_ACCOUNT_IDS)
$ aws-vault exec {aws-vault-profile} -- ei ec2 vpc list --all-regions --all-accounts

# same as ec2
$ aws-vault exec {aws-vault-profile} -- ei ec2 instance list --all-regions --all-accounts

...
```

## Development

This project controlled by [Hatch](https://github.com/pypa/hatch).

``` sh
$ pip install hatch

# install package as editable mode
$ pip install -e .

# testing commands
$ hatch run lint
$ hatch run test
$ hatch run typecheck
```
