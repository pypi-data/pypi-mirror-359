"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[69],{77213:function(e,t,n){n.d(t,{Z:function(){return f}});var r=n(24246),i=n(62051),o=n(88038),l=n.n(o),a=n(86677);n(27378);var s=n(25980),c=n(90867),u=n(77830),d=()=>{let e=(0,a.useRouter)();return(0,r.jsx)(i.xuv,{bg:"gray.50",border:"1px solid",borderColor:"blue.400",borderRadius:"md",justifyContent:"space-between",p:5,mb:5,mt:5,children:(0,r.jsxs)(i.xuv,{children:[(0,r.jsxs)(i.Kqy,{direction:{base:"column",sm:"row"},justifyContent:"space-between",children:[(0,r.jsx)(i.xvT,{fontWeight:"semibold",children:"Configure your storage and messaging provider"}),(0,r.jsx)(i.wpx,{onClick:()=>{e.push(u.fz)},children:"Configure"})]}),(0,r.jsxs)(i.xvT,{children:["Before Fides can process your privacy requests we need two simple steps to configure your storage and email client."," "]})]})})},f=e=>{let{children:t,title:n,padded:o=!0,mainProps:u}=e,f=(0,s.hz)(),p=(0,a.useRouter)(),g="/privacy-requests"===p.pathname||"/datastore-connection"===p.pathname,x=!(f.flags.privacyRequestsConfiguration&&g),{data:v}=(0,c.JE)(void 0,{skip:x}),{data:b}=(0,c.PW)(void 0,{skip:x}),m=f.flags.privacyRequestsConfiguration&&(!v||!b)&&g;return(0,r.jsxs)(i.kCb,{"data-testid":n,direction:"column",h:"100vh",children:[(0,r.jsxs)(l(),{children:[(0,r.jsxs)("title",{children:["Fides Admin UI - ",n]}),(0,r.jsx)("meta",{name:"description",content:"Privacy Engineering Platform"}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,r.jsxs)(i.kCb,{as:"main",direction:"column",py:o?6:0,px:o?10:0,h:o?"calc(100% - 48px)":"full",flex:1,minWidth:0,overflow:"auto",...u,children:[m?(0,r.jsx)(d,{}):null,t]})]})}},51472:function(e,t,n){var r=n(24246),i=n(62051),o=n(47397),l=n(7078),a=n(18397),s=n(11055),c=n(27378),u=n(40324),d=n(46238);let f=e=>{let{item:t,label:n,draggable:a,onDeleteItem:s,onEditItem:c,tooltip:u,onRowClick:f,maxH:p=10,rowTestId:g}=e,x=(0,o.o)(),v=(0,r.jsxs)(i.kCb,{direction:"row",gap:2,maxH:p,w:"full",px:2,align:"center",role:"group",className:"group",borderY:"1px",my:"-1px",borderColor:"gray.200",_hover:f?{bgColor:"gray.100"}:void 0,bgColor:"white",position:"relative",children:[a&&(0,r.jsx)(i.VVU,{onPointerDown:e=>x.start(e),cursor:"grab"}),(0,r.jsxs)(i.kCb,{direction:"row",gap:2,p:2,align:"center",w:"full",cursor:f?"pointer":"auto",onClick:()=>{f&&f(t)},overflow:"clip","data-testid":g,children:[(0,r.jsx)(i.xvT,{fontSize:"sm",userSelect:"none",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",children:n}),(0,r.jsx)(d.b,{label:u})]}),(0,r.jsxs)(i.vyj,{className:"invisible absolute right-2 bg-white group-hover:visible",children:[c&&(0,r.jsx)(i.wpx,{"aria-label":"Edit",onClick:()=>c(t),icon:(0,r.jsx)(i.PJP.I8b,{}),size:"small","data-testid":"edit-".concat(g)}),s&&(0,r.jsx)(i.wpx,{"aria-label":"Delete",onClick:()=>s(t),icon:(0,r.jsx)(i.PJP.ZNm,{}),size:"small","data-testid":"delete-".concat(g)})]})]});return a?(0,r.jsx)(l.e,{value:t,dragListener:!1,dragControls:x,children:v}):v},p=e=>{let{label:t,options:n,onOptionSelected:o,baseTestId:l}=e,[a,s]=(0,c.useState)(!1),[u,d]=(0,c.useState)(void 0);return a?(0,r.jsx)(i.xuv,{w:"full",children:(0,r.jsx)(i.WPr,{labelInValue:!0,placeholder:"Select...",filterOption:(e,t)=>{var n;return(null!==(n=null==t?void 0:t.label)&&void 0!==n?n:"").toLowerCase().includes(e.toLowerCase())},value:u,options:n,onChange:e=>{o(e),s(!1),d(void 0)},className:"w-full","data-testid":"select-".concat(l)})}):(0,r.jsx)(i.wpx,{onClick:()=>s(!0),"data-testid":"add-".concat(l),block:!0,icon:(0,r.jsx)(i.jBn,{boxSize:4}),iconPosition:"end",children:t})};t.Z=e=>{let{label:t,tooltip:n,draggable:o,addButtonLabel:l,allItems:c,idField:g,nameField:x=g,values:v,setValues:b,canDeleteItem:m,getTooltip:h,onRowClick:j,onEditItem:w,selectOnAdd:y,getItemLabel:C,createNewValue:k,maxHeight:S=36,baseTestId:L}=e,P=e=>e instanceof Object&&g&&g in e?e[g]:e,R=c.every(e=>"string"==typeof e)?c.filter(e=>v.every(t=>t!==e)):c.filter(e=>v.every(t=>P(t)!==P(e))),_=e=>{b(v.filter(t=>t!==e).slice())},A=null!=C?C:e=>e instanceof Object&&g&&g in e?x&&x in e?e[x]:e[g]:e,D=e=>{let t=e instanceof Object&&g&&g in e?e[g]:e;return{label:A(e),value:t}},I=e=>c.every(e=>"string"==typeof e)?e.value:c.find(t=>t[g]===e.value),O=e=>{let t=k?k(e):I(e);b([t,...v.slice()]),y&&j&&j(t),y&&w&&w(t)},E={border:"1px",borderColor:"gray.200",borderRadius:"md",w:"full",maxH:"8.5rem",overflowY:"auto"},N=o?(0,r.jsx)(i.xuv,{as:a.E.div,layoutScroll:!0,...E,children:(0,r.jsx)(s.M,{values:v,onReorder:e=>b(e.slice()),children:v.map(e=>{let t=P(e);return(0,r.jsx)(f,{item:e,label:A(e),onDeleteItem:!m||m&&m(e)?_:void 0,onEditItem:w,onRowClick:j,draggable:!0,maxH:S,rowTestId:"".concat(L,"-row-").concat(t),tooltip:h&&h(e)?h(e):void 0},t)})})}):(0,r.jsx)(i.xuv,{...E,children:(0,r.jsx)(i.aVo,{children:v.map(e=>{let t=P(e);return(0,r.jsx)(f,{item:e,label:A(e),onRowClick:j,onDeleteItem:_,tooltip:h&&h(e)?h(e):void 0,maxH:S,rowTestId:"".concat(L,"-row-").concat(t)},t)})})});return v.length?(0,r.jsxs)(i.kCb,{align:"start",direction:"column",w:"full",gap:4,children:[t?(0,r.jsx)(u.__,{htmlFor:"test",fontSize:"xs",my:0,mr:1,children:t}):null,(0,r.jsx)(d.b,{label:n}),N,R.length?(0,r.jsx)(p,{label:null!=l?l:"Add new",options:R.map(e=>D(e)),onOptionSelected:O,baseTestId:L}):null]}):(0,r.jsx)(p,{label:null!=l?l:"Add new",options:R.map(e=>D(e)),onOptionSelected:O,baseTestId:L})}},812:function(e,t,n){n.d(t,{D4:function(){return o.D4},MM:function(){return f},Ot:function(){return c},c6:function(){return i},cj:function(){return g},e$:function(){return a},fn:function(){return s},iC:function(){return p},nU:function(){return d},tB:function(){return u}});var r,i,o=n(19043);let l="An unexpected error occurred. Please try again.",a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l;if((0,o.Bw)(e)){if((0,o.hE)(e.data))return e.data.detail;if((0,o.cz)(e.data)){var n;let t=null===(n=e.data.detail)||void 0===n?void 0:n[0];return"".concat(null==t?void 0:t.msg,": ").concat(null==t?void 0:t.loc)}if(409===e.status&&(0,o.Dy)(e.data)||404===e.status&&(0,o.XD)(e.data))return"".concat(e.data.detail.error," (").concat(e.data.detail.fides_key,")")}return t};function s(e){return"object"==typeof e&&null!=e&&"status"in e}function c(e){return"object"==typeof e&&null!=e&&"data"in e&&"string"==typeof e.data.detail}function u(e){return"object"==typeof e&&null!=e&&"data"in e&&Array.isArray(e.data.detail)}let d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{status:500,message:l};if((0,o.oK)(e))return{status:e.originalStatus,message:e.data};if((0,o.Bw)(e)){let{status:n}=e;return{status:n,message:a(e,t.message)}}return t},f=e=>Object.entries(e).map(e=>({value:e[1],label:e[1]}));(r=i||(i={})).GVL="gvl",r.AC="gacp",r.COMPASS="compass";let p={gvl:{label:"GVL",fullName:"Global Vendor List"},gacp:{label:"AC",fullName:"Google Additional Consent List"},compass:{label:"",fullName:""}},g=e=>{let t=e.split(".")[0];return"gacp"===t?"gacp":"gvl"===t?"gvl":"compass"}},19043:function(e,t,n){n.d(t,{Bw:function(){return l},D4:function(){return i},Dy:function(){return s},XD:function(){return c},cz:function(){return u},hE:function(){return a},oK:function(){return o}});var r=n(76649);let i=e=>"error"in e,o=e=>(0,r.Ln)({status:"string"},e)&&"PARSING_ERROR"===e.status,l=e=>(0,r.Ln)({status:"number",data:{}},e),a=e=>(0,r.Ln)({detail:"string"},e),s=e=>(0,r.Ln)({detail:{error:"string",resource_type:"string",fides_key:"string"}},e),c=e=>(0,r.Ln)({detail:{error:"string",resource_type:"string",fides_key:"string"}},e),u=e=>(0,r.Ln)({detail:[{loc:["string","number"],msg:"string",type:"string"}]},e)}}]);