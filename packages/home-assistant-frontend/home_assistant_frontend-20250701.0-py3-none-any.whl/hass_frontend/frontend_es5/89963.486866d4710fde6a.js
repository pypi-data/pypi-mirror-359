"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["89963"],{84075:function(n,e,t){t.d(e,{DJ:function(){return i},RQ:function(){return o},iJ:function(){return a},pB:function(){return r}});t(42385),t(12212),t(25518),t(70021),t(81738),t(94814),t(29981),t(87799),t(54480);var i=function(n,e,t){var i={type:"config_entries/subscribe"};return t&&t.type&&(i.type_filter=t.type),n.connection.subscribeMessage(function(n){return e(n)},i)},r=function(n,e){var t={};return e&&(e.type&&(t.type_filter=e.type),e.domain&&(t.domain=e.domain)),n.callWS(Object.assign({type:"config_entries/get"},t))},o=function(n,e){return n.callWS({type:"config_entries/get_single",entry_id:e})},a=function(n,e){return n.callApi("DELETE","config/config_entries/entry/".concat(e))}},20990:function(n,e,t){t.d(e,{D4:function(){return o},D7:function(){return u},Ky:function(){return r},V3:function(){return d},XO:function(){return a},d4:function(){return c},oi:function(){return s}});t(12212),t(24533);var i={"HA-Frontend-Base":"".concat(location.protocol,"//").concat(location.host)},r=function(n,e,t){var r;return n.callApi("POST","config/config_entries/flow",{handler:e,show_advanced_options:Boolean(null===(r=n.userData)||void 0===r?void 0:r.showAdvanced),entry_id:t},i)},o=function(n,e){return n.callApi("GET","config/config_entries/flow/".concat(e),void 0,i)},a=function(n,e,t){return n.callApi("POST","config/config_entries/flow/".concat(e),t,i)},s=function(n,e){return n.callApi("DELETE","config/config_entries/flow/".concat(e))},c=function(n,e){return n.callApi("GET","config/config_entries/flow_handlers".concat(e?"?type=".concat(e):""))},u=function(n){return n.sendMessagePromise({type:"config_entries/flow/progress"})},d=function(n,e){return n.connection.subscribeMessage(function(n){return e(n)},{type:"config_entries/flow/subscribe"})}},6291:function(n,e,t){t.d(e,{f:function(){return l}});var i=t(75706),r=t(54521),o=t(4490),a=t(20129),s=t(53389),c=t(85297),u=(t(39710),t(26847),t(81738),t(72489),t(54480),t(1455),t(56389),t(27530),t(73742)),d=t(7616),l=function(n){var e=function(n){function e(){return(0,r.Z)(this,e),(0,a.Z)(this,e,arguments)}return(0,c.Z)(e,n),(0,o.Z)(e,[{key:"connectedCallback",value:function(){(0,s.Z)(e,"connectedCallback",this,3)([]),this._checkSubscribed()}},{key:"disconnectedCallback",value:function(){if((0,s.Z)(e,"disconnectedCallback",this,3)([]),this.__unsubs){for(;this.__unsubs.length;){var n=this.__unsubs.pop();n instanceof Promise?n.then(function(n){return n()}):n()}this.__unsubs=void 0}}},{key:"updated",value:function(n){if((0,s.Z)(e,"updated",this,3)([n]),n.has("hass"))this._checkSubscribed();else if(this.hassSubscribeRequiredHostProps){var t,r=(0,i.Z)(n.keys());try{for(r.s();!(t=r.n()).done;){var o=t.value;if(this.hassSubscribeRequiredHostProps.includes(o))return void this._checkSubscribed()}}catch(a){r.e(a)}finally{r.f()}}}},{key:"hassSubscribe",value:function(){return[]}},{key:"_checkSubscribed",value:function(){var n,e=this;void 0!==this.__unsubs||!this.isConnected||void 0===this.hass||null!==(n=this.hassSubscribeRequiredHostProps)&&void 0!==n&&n.some(function(n){return void 0===e[n]})||(this.__unsubs=this.hassSubscribe())}}])}(n);return(0,u.__decorate)([(0,d.Cb)({attribute:!1})],e.prototype,"hass",void 0),e}},85771:function(n,e,t){var i,r,o=t(29694),a=t(75778),s=t(10354),c=t(54982),u=t(75706),d=t(42385),l=t(54521),f=t(4490),h=t(20129),p=t(85297),v=t(53389),_=(t(12212),t(25518),t(55204),t(26847),t(24819),t(2394),t(69643),t(18574),t(81738),t(94814),t(22960),t(6989),t(54480),t(11353),t(67886),t(65451),t(46015),t(38334),t(94880),t(75643),t(29761),t(48694),t(67398),t(27530),t(73742)),g=t(59048),b=t(7616),y=t(37528),m=t(39884),k=t(36221),Z=(t(72953),t(84075)),w=t(20990),S=t(96222),z=function(n){return n.callWS({type:"usb/scan"})},D=t(6291),x=t(35580),C=function(n){function e(){var n;(0,l.Z)(this,e);for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return(n=(0,h.Z)(this,e,[].concat(i))).darkOptimizedIcon=!1,n.clickable=!1,n}return(0,p.Z)(e,n),(0,f.Z)(e,[{key:"render",value:function(){return(0,g.dy)(i||(i=(0,c.Z)([' <div class="icon"> <img alt="" src="','" crossorigin="anonymous" referrerpolicy="no-referrer"> </div> <div class="title">',"</div> "])),(0,x.X1)({domain:this.domain,type:"icon",darkOptimized:this.darkOptimizedIcon}),this.title)}}])}(g.oi);C.styles=(0,g.iv)(r||(r=(0,c.Z)([":host{display:inline-flex;flex-direction:column;text-align:center;color:var(--primary-text-color)}img{max-width:100%;max-height:100%}.icon{position:relative;margin:0 auto 8px;height:40px;width:40px;display:flex;align-items:center;justify-content:center}.title{min-height:2.3em;word-break:break-word}"]))),(0,_.__decorate)([(0,b.Cb)()],C.prototype,"domain",void 0),(0,_.__decorate)([(0,b.Cb)({attribute:!1})],C.prototype,"title",void 0),(0,_.__decorate)([(0,b.Cb)({attribute:"dark-optimized-icon",type:Boolean})],C.prototype,"darkOptimizedIcon",void 0),(0,_.__decorate)([(0,b.Cb)({attribute:!1,type:Boolean,reflect:!0})],C.prototype,"clickable",void 0),C=(0,_.__decorate)([(0,b.Mo)("integration-badge")],C);var B,L,A,E,O,T=t(77908),R=new Set(["backup","google_translate","hassio","met","radio_browser","rpi_power","shopping_list","sun"]),P=function(n){function e(){var n;(0,l.Z)(this,e);for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return(n=(0,h.Z)(this,e,[].concat(i)))._entries=[],n._discoveredDomains=new Set,n._discoveredDomainsReceived=!1,n}return(0,p.Z)(e,n),(0,f.Z)(e,[{key:"hassSubscribe",value:function(){var n=this;return[(0,w.V3)(this.hass,function(e){e.forEach(function(e){"removed"===e.type||R.has(e.flow.handler)||n._discoveredDomains.add(e.flow.handler)}),n.hass.loadBackendTranslation("title",Array.from(n._discoveredDomains)),n._discoveredDomainsReceived=!0}),(0,Z.DJ)(this.hass,function(e){var t=!1,i=[],r=new Set;if(e.forEach(function(e){if(null===e.type||"added"===e.type){if(R.has(e.entry.domain))return;i.push(e.entry),r.add(e.entry.domain),null===e.type&&(t=!0)}else if("removed"===e.type)n._entries=n._entries.filter(function(n){return n.entry_id!==e.entry.entry_id});else if("updated"===e.type){if(R.has(e.entry.domain))return;var o=e.entry;n._entries=n._entries.map(function(n){return n.entry_id===o.entry_id?o:n})}}),i.length||t){n.hass.loadBackendTranslation("title",Array.from(r));var o=t?[]:n._entries;n._entries=[].concat((0,d.Z)(o),i)}},{type:["device","hub","service"]})]}},{key:"render",value:function(){var n=this;if(!this._discoveredDomainsReceived)return g.Ld;var e=new Set;this._entries.forEach(function(n){e.add(n.domain)}),e=new Set([].concat((0,d.Z)(e),(0,d.Z)(this._discoveredDomains)));var t,i=[],r=(0,u.Z)(e.values());try{for(r.s();!(t=r.n()).done;){var o=t.value;i.push([o,(0,S.Lh)(this.hass.localize,o)])}}catch(l){r.e(l)}finally{r.f()}var a=(i=i.sort(function(e,t){return(0,k.$K)(e[0],t[0],n.hass.locale.language)})).length;return 0===a?(0,g.dy)(B||(B=(0,c.Z)([' <div class="all-set-icon">ðŸŽ‰</div> <h1> '," </h1> <p> ",' </p> <div class="footer"> <ha-button unelevated @click="','"> '," </ha-button> </div> "])),this.onboardingLocalize("ui.panel.page-onboarding.integration.all_set"),this.onboardingLocalize("ui.panel.page-onboarding.integration.lets_start"),this._finish,this.onboardingLocalize("ui.panel.page-onboarding.integration.finish")):(i.length>12&&(i=i.slice(0,11)),(0,g.dy)(L||(L=(0,c.Z)([" <h1> "," </h1> <p> ",' </p> <div class="badges"> '," ",' </div> <div class="footer"> <ha-button unelevated @click="','"> '," </ha-button> </div> "])),this.onboardingLocalize("ui.panel.page-onboarding.integration.header"),this.onboardingLocalize("ui.panel.page-onboarding.integration.intro"),i.map(function(e){var t,i=(0,s.Z)(e,2),r=i[0],o=i[1];return(0,g.dy)(A||(A=(0,c.Z)(['<integration-badge .domain="','" .title="','" .darkOptimizedIcon="','"></integration-badge>'])),r,o,null===(t=n.hass.themes)||void 0===t?void 0:t.darkMode)}),a>i.length?(0,g.dy)(E||(E=(0,c.Z)(['<div class="more"> '," </div>"])),this.onboardingLocalize("ui.panel.page-onboarding.integration.more_integrations",{count:a-i.length})):g.Ld,this._finish,this.onboardingLocalize("ui.panel.page-onboarding.integration.finish")))}},{key:"firstUpdated",value:function(n){(0,v.Z)(e,"firstUpdated",this,3)([n]),this.hass.loadBackendTranslation("title"),this._scanUSBDevices()}},{key:"_scanUSBDevices",value:(i=(0,a.Z)((0,o.Z)().m(function n(){return(0,o.Z)().w(function(n){for(;;)switch(n.n){case 0:if((0,y.p)(this.hass,"usb")){n.n=1;break}return n.a(2);case 1:return n.n=2,z(this.hass);case 2:return n.a(2)}},n,this)})),function(){return i.apply(this,arguments)})},{key:"_finish",value:(t=(0,a.Z)((0,o.Z)().m(function n(){return(0,o.Z)().w(function(n){for(;;)switch(n.n){case 0:(0,m.B)(this,"onboarding-step",{type:"integration"});case 1:return n.a(2)}},n,this)})),function(){return t.apply(this,arguments)})}],[{key:"styles",get:function(){return[T.I,(0,g.iv)(O||(O=(0,c.Z)([".badges{margin-top:24px;display:grid;grid-template-columns:repeat(auto-fill,minmax(106px,1fr));row-gap:24px}.more{display:flex;justify-content:center;align-items:center;height:100%}.all-set-icon{font-size:64px;text-align:center}"])))]}}]);var t,i}((0,D.f)(g.oi));(0,_.__decorate)([(0,b.Cb)({attribute:!1})],P.prototype,"hass",void 0),(0,_.__decorate)([(0,b.Cb)({attribute:!1})],P.prototype,"onboardingLocalize",void 0),(0,_.__decorate)([(0,b.SB)()],P.prototype,"_entries",void 0),(0,_.__decorate)([(0,b.SB)()],P.prototype,"_discoveredDomains",void 0),(0,_.__decorate)([(0,b.SB)()],P.prototype,"_discoveredDomainsReceived",void 0),P=(0,_.__decorate)([(0,b.Mo)("onboarding-integrations")],P)},35580:function(n,e,t){t.d(e,{X1:function(){return i},u4:function(){return r},zC:function(){return o}});t(12212),t(44261);var i=function(n){return"https://brands.home-assistant.io/".concat(n.brand?"brands/":"").concat(n.useFallback?"_/":"").concat(n.domain,"/").concat(n.darkOptimized?"dark_":"").concat(n.type,".png")},r=function(n){return n.split("/")[4]},o=function(n){return n.startsWith("https://brands.home-assistant.io/")}}}]);
//# sourceMappingURL=89963.486866d4710fde6a.js.map