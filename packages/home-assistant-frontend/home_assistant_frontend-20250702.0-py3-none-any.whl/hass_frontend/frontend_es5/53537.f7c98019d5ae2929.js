"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["53537"],{7214:function(t,n,e){e.d(n,{Cj:function(){return f},F7:function(){return i},Hs:function(){return O},Kd:function(){return S},Kj:function(){return v},Nw:function(){return g},PA:function(){return a},Py:function(){return c},Qm:function(){return x},Z0:function(){return y},_Y:function(){return l},_m:function(){return u},dL:function(){return s},dO:function(){return j},hN:function(){return m},h_:function(){return d},j2:function(){return h},q6:function(){return _},uR:function(){return o}});e(39710),e(26847),e(81738),e(72489),e(56389),e(27530);var r=e(15459),i=function(t){return t[t.NONE=0]="NONE",t[t.ARITHMETIC=1]="ARITHMETIC",t[t.CIRCULAR=2]="CIRCULAR",t}({});const a=99387==e.j?["entity_not_recorded","entity_no_longer_recorded","state_class_removed","units_changed","mean_type_changed","no_state"]:null,u=t=>t.sendMessagePromise({type:"recorder/info"}),o=(t,n)=>t.callWS({type:"recorder/list_statistic_ids",statistic_type:n}),c=(t,n)=>t.callWS({type:"recorder/get_statistics_metadata",statistic_ids:n}),s=(t,n,e,r,i="hour",a,u)=>t.callWS({type:"recorder/statistics_during_period",start_time:n.toISOString(),end_time:null==e?void 0:e.toISOString(),statistic_ids:r,period:i,units:a,types:u}),l=(t,n,e,r)=>t.callWS({type:"recorder/statistic_during_period",statistic_id:n,units:r,fixed_period:e.fixed_period?{start_time:e.fixed_period.start instanceof Date?e.fixed_period.start.toISOString():e.fixed_period.start,end_time:e.fixed_period.end instanceof Date?e.fixed_period.end.toISOString():e.fixed_period.end}:void 0,calendar:e.calendar,rolling_window:e.rolling_window}),d=t=>t.callWS({type:"recorder/validate_statistics"}),f=(t,n,e)=>t.callWS({type:"recorder/update_statistics_metadata",statistic_id:n,unit_of_measurement:e}),m=(t,n)=>t.callWS({type:"recorder/clear_statistics",statistic_ids:n}),v=t=>{let n=null;if(!t)return null;for(const e of t)null!==e.change&&void 0!==e.change&&(null===n?n=e.change:n+=e.change);return n},_=(t,n)=>{let e=null;for(const r of n){if(!(r in t))continue;const n=v(t[r]);null!==n&&(null===e?e=n:e+=n)}return e},g=(t,n)=>t.some(t=>void 0!==t[n]&&null!==t[n]),p=["mean","min","max"],b=["sum","state","change"],y=(t,n)=>!(!p.includes(n)||0===t.mean_type)||!(!b.includes(n)||!t.has_sum),h=(t,n,e,r,i)=>{const a=new Date(e).toISOString();return t.callWS({type:"recorder/adjust_sum_statistics",statistic_id:n,start_time:a,adjustment:r,adjustment_unit_of_measurement:i})},S=(t,n,e)=>{const i=t.states[n];return i?(0,r.C)(i):(null==e?void 0:e.name)||n},j=(t,n,e)=>{let r;var i;n&&(r=null===(i=t.states[n])||void 0===i?void 0:i.attributes.unit_of_measurement);return void 0===r?null==e?void 0:e.statistics_unit_of_measurement:r},O=t=>t.includes(":"),x=t=>t.callWS({type:"recorder/update_statistics_issues"})},94969:function(t,n,e){e.a(t,async function(t,r){try{e.d(n,{J:function(){return x},MC:function(){return j},Zx:function(){return w},b4:function(){return O},kT:function(){return C}});var i=e(61943),a=(e(12212),e(25518),e(24674),e(55204),e(26847),e(24819),e(2394),e(18574),e(13571),e(20678),e(81738),e(94814),e(22960),e(6989),e(96821),e(87799),e(54480),e(11353),e(67886),e(65451),e(46015),e(38334),e(94880),e(75643),e(29761),e(48694),e(44261),e(67398),e(27530),e(38039)),u=e(7722),o=e(46363),c=e(5280),s=e(2061),l=e(6483),d=e(73228),f=e(98853),m=e(11736),v=e(46021),_=e(21343),g=e(72937),p=e(28598),b=e(40142),y=e(45691),h=t([b,y,p]);function j(t,n){var e=new Date(n);return t>2&&0===e.getHours()&&(e=(0,a.b)(e,1)),e.setMinutes(0,0,0),t>35&&e.setDate(1),t>2&&e.setHours(0),e.getTime()}function O(t){return t>35?"month":t>2?"day":"hour"}function x(t,n,e,r,i,a,o,c){var s=(0,u.j)(n,t),l=void 0!==a&&void 0!==o;return{xAxis:{type:"time",min:t,max:j(s,n)},yAxis:{type:"value",name:i,nameGap:2,nameTextStyle:{align:"left"},axisLabel:{formatter:function(t){return(0,p.uf)(Math.abs(t),e)}},splitLine:{show:!0}},grid:{top:15,bottom:0,left:1,right:1,containLabel:!0},tooltip:{trigger:"axis",formatter:function(t){if(Array.isArray(t)){var n=[],a=[];return t.forEach(function(t){var e;null!==(e=t.seriesId)&&void 0!==e&&e.startsWith("compare-")?a.push(t):n.push(t)}),[n,a].map(function(t){return T(t,e,r,s,l,i,c)}).filter(Boolean).join("<br><br>")}return T([t],e,r,s,l,i,c)}}}}function T(t,n,e,r,i,a,u){var c,s,l,d;if(null===(c=t[0])||void 0===c||!c.value)return"";var f,m=new Date(null!==(s=null===(l=t[0].value)||void 0===l?void 0:l[2])&&void 0!==s?s:null===(d=t[0].value)||void 0===d?void 0:d[0]);f=r>89?"".concat((0,b.NC)(m,n,e)):r>0?"".concat((0,b.ud)(m,n,e)):"".concat(i?"".concat((0,b.ud)(m,n,e),": "):"").concat((0,y.mr)(m,n,e)," â€“ ").concat((0,y.mr)((0,o.T)(m,1),n,e));var v='<h4 style="text-align: center; margin: 0;">'.concat(f,"</h4>"),_=0,g=0,h=0,S=0,j=t.map(function(t){var e,r=null===(e=t.value)||void 0===e?void 0:e[1],i=(0,p.uf)(r,n);return"0"!==i&&("bar"===t.componentSubType&&(r>0?(_+=r,g++):(h+=r,S++)),"".concat(t.marker," ").concat(t.seriesName,": ").concat(i," ").concat(a))}).filter(Boolean),O="";return 0!==_&&g>1&&u&&(O+="<br><b>".concat(u(_),"</b>")),0!==h&&S>1&&u&&(O+="<br><b>".concat(u(h),"</b>")),j.length>0?"".concat(v).concat(j.join("<br>")).concat(O):""}function w(t){Array.from(new Set(t.map(function(t){return t.data.map(function(t){return Number(t[0])})}).flat())).sort(function(t,n){return t-n}).forEach(function(n,e){for(var r={},a={},u=t.length-1;u>=0;u--){var o,c,s,l,d,f,m=t[u].data[e],v=m&&"object"===(0,i.Z)(m)&&"value"in m?m:{value:m},_=null===(o=v.value)||void 0===o?void 0:o[0],g=null!==(c=t[u].stack)&&void 0!==c?c:"";if(void 0!==_)if(Number(_)!==n)null===(f=t[u].data)||void 0===f||f.splice(e,0,{value:[n,0],itemStyle:{borderWidth:0}});else 0===(null===(s=v.value)||void 0===s?void 0:s[1])?t[u].data[e]=Object.assign(Object.assign({},v),{},{itemStyle:Object.assign(Object.assign({},v.itemStyle),{},{borderWidth:0})}):!r[g]&&(null===(l=v.value)||void 0===l?void 0:l[1])>0?(t[u].data[e]=Object.assign(Object.assign({},v),{},{itemStyle:Object.assign(Object.assign({},v.itemStyle),{},{borderRadius:[4,4,0,0]})}),r[g]=!0):!a[g]&&(null===(d=v.value)||void 0===d?void 0:d[1])<0&&(t[u].data[e]=Object.assign(Object.assign({},v),{},{itemStyle:Object.assign(Object.assign({},v.itemStyle),{},{borderRadius:[0,0,4,4]})}),a[g]=!0)}})}function C(t,n){if(!n)return function(t){return t};var e=(0,c.o)(t,n);if(0!==e&&t.getTime()===(0,s.e)(t).getTime())return function(t){return(0,l.B)(t,e)};var r=(0,d.d)(t,n);if(0!==r&&t.getTime()===(0,f.N)(t).getTime())return function(t){return(0,m.z)(t,r)};var i=(0,u.j)(t,n);if(0!==i&&t.getTime()===(0,v.b)(t).getTime())return function(t){return(0,_.E)(t,i)};var a=t.getTime()-n.getTime();return function(t){return(0,g.n)(t,a)}}[b,y,p]=h.then?(await h)():h,r()}catch(S){r(S)}})},6483:function(t,n,e){e.d(n,{B:function(){return i}});var r=e(11736);function i(t,n,e){return(0,r.z)(t,12*n,e)}},5280:function(t,n,e){e.d(n,{o:function(){return o}});var r=e(10354),i=e(69875),a=e(45589);function u(t,n,e){var a=(0,i.d)(null==e?void 0:e.in,t,n),u=(0,r.Z)(a,2),o=u[0],c=u[1];return o.getFullYear()-c.getFullYear()}function o(t,n,e){var o=(0,i.d)(null==e?void 0:e.in,t,n),c=(0,r.Z)(o,2),s=c[0],l=c[1],d=(0,a.U)(s,l),f=Math.abs(u(s,l));s.setFullYear(1584),l.setFullYear(1584);var m=d*(f-+((0,a.U)(s,l)===-d));return 0===m?0:m}}}]);
//# sourceMappingURL=53537.f7c98019d5ae2929.js.map