"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["91517"],{98921:function(t,e,i){i.d(e,{U:function(){return n}});var n=function(t){return t.stopPropagation()}},87639:function(t,e,i){i.d(e,{D:function(){return n}});var n=function(t,e){var i,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=function(){for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];var s=n&&!i;clearTimeout(i),i=window.setTimeout(function(){i=void 0,t.apply(void 0,r)},e),s&&t.apply(void 0,r)};return o.cancel=function(){clearTimeout(i)},o}},39804:function(t,e,i){i.r(e),i.d(e,{HaFormOptionalActions:function(){return f}});i(39710),i(26847),i(81738),i(94814),i(6989),i(1455),i(56389),i(27530);var n=i(73742),o=i(59048),r=i(7616),a=i(28105),s=i(98921);i(87979),i(69760);let d,c,l,u,p,h=t=>t;const m=[];class f extends o.oi{async focus(){var t;await this.updateComplete,null===(t=this.renderRoot.querySelector("ha-form"))||void 0===t||t.focus()}updated(t){if(super.updated(t),t.has("data")){var e;const t=null!==(e=this._displayActions)&&void 0!==e?e:m,i=this._hiddenActions(this.schema.schema,t);this._displayActions=[...t,...i.filter(t=>t in this.data)]}}render(){var t,e,i;const n=null!==(t=this._displayActions)&&void 0!==t?t:m,r=this._displaySchema(this.schema.schema,null!==(e=this._displayActions)&&void 0!==e?e:[]),a=this._hiddenActions(this.schema.schema,n),p=new Map(this.computeLabel?this.schema.schema.map(t=>[t.name,t]):[]);return(0,o.dy)(d||(d=h` ${0} ${0} `),r.length>0?(0,o.dy)(c||(c=h` <ha-form .hass="${0}" .data="${0}" .schema="${0}" .disabled="${0}" .computeLabel="${0}" .computeHelper="${0}" .localizeValue="${0}"></ha-form> `),this.hass,this.data,r,this.disabled,this.computeLabel,this.computeHelper,this.localizeValue):o.Ld,a.length>0?(0,o.dy)(l||(l=h` <ha-button-menu @action="${0}" fixed @closed="${0}"> <ha-button slot="trigger"> ${0} </ha-button> ${0} </ha-button-menu> `),this._handleAddAction,s.U,(null===(i=this.localize)||void 0===i?void 0:i.call(this,"ui.components.form-optional-actions.add"))||"Add interaction",a.map(t=>{const e=p.get(t);return(0,o.dy)(u||(u=h` <ha-list-item> ${0} </ha-list-item> `),this.computeLabel&&e?this.computeLabel(e):t)})):o.Ld)}_handleAddAction(t){var e,i;const n=this._hiddenActions(this.schema.schema,null!==(e=this._displayActions)&&void 0!==e?e:m)[t.detail.index];this._displayActions=[...null!==(i=this._displayActions)&&void 0!==i?i:[],n]}constructor(...t){super(...t),this.disabled=!1,this._hiddenActions=(0,a.Z)((t,e)=>t.map(t=>t.name).filter(t=>!e.includes(t))),this._displaySchema=(0,a.Z)((t,e)=>t.filter(t=>e.includes(t.name)))}}f.styles=(0,o.iv)(p||(p=h`:host{display:flex!important;flex-direction:column;gap:24px}:host ha-form{display:block}`)),(0,n.__decorate)([(0,r.Cb)({attribute:!1})],f.prototype,"localize",void 0),(0,n.__decorate)([(0,r.Cb)({attribute:!1})],f.prototype,"hass",void 0),(0,n.__decorate)([(0,r.Cb)({attribute:!1})],f.prototype,"data",void 0),(0,n.__decorate)([(0,r.Cb)({attribute:!1})],f.prototype,"schema",void 0),(0,n.__decorate)([(0,r.Cb)({type:Boolean})],f.prototype,"disabled",void 0),(0,n.__decorate)([(0,r.Cb)({attribute:!1})],f.prototype,"computeLabel",void 0),(0,n.__decorate)([(0,r.Cb)({attribute:!1})],f.prototype,"computeHelper",void 0),(0,n.__decorate)([(0,r.Cb)({attribute:!1})],f.prototype,"localizeValue",void 0),(0,n.__decorate)([(0,r.SB)()],f.prototype,"_displayActions",void 0),f=(0,n.__decorate)([(0,r.Mo)("ha-form-optional_actions")],f)},69760:function(t,e,i){var n,o,r,a=i(54982),s=i(54521),d=i(4490),c=i(20129),l=i(53389),u=i(85297),p=i(73742),h=i(84859),m=i(7686),f=i(59048),v=i(7616),y=function(t){function e(){return(0,s.Z)(this,e),(0,c.Z)(this,e,arguments)}return(0,u.Z)(e,t),(0,d.Z)(e,[{key:"renderRipple",value:function(){return this.noninteractive?"":(0,l.Z)(e,"renderRipple",this,3)([])}}],[{key:"styles",get:function(){return[m.W,(0,f.iv)(n||(n=(0,a.Z)([":host{padding-left:var(--mdc-list-side-padding-left,var(--mdc-list-side-padding,20px));padding-inline-start:var(--mdc-list-side-padding-left,var(--mdc-list-side-padding,20px));padding-right:var(--mdc-list-side-padding-right,var(--mdc-list-side-padding,20px));padding-inline-end:var(--mdc-list-side-padding-right,var(--mdc-list-side-padding,20px))}:host([graphic=avatar]:not([twoLine])),:host([graphic=icon]:not([twoLine])){height:48px}span.material-icons:first-of-type{margin-inline-start:0px!important;margin-inline-end:var(--mdc-list-item-graphic-margin,16px)!important;direction:var(--direction)!important}span.material-icons:last-of-type{margin-inline-start:auto!important;margin-inline-end:0px!important;direction:var(--direction)!important}.mdc-deprecated-list-item__meta{display:var(--mdc-list-item-meta-display);align-items:center;flex-shrink:0}:host([graphic=icon]:not([twoline])) .mdc-deprecated-list-item__graphic{margin-inline-end:var(--mdc-list-item-graphic-margin,20px)!important}:host([multiline-secondary]){height:auto}:host([multiline-secondary]) .mdc-deprecated-list-item__text{padding:8px 0}:host([multiline-secondary]) .mdc-deprecated-list-item__secondary-text{text-overflow:initial;white-space:normal;overflow:auto;display:inline-block;margin-top:10px}:host([multiline-secondary]) .mdc-deprecated-list-item__primary-text{margin-top:10px}:host([multiline-secondary]) .mdc-deprecated-list-item__secondary-text::before{display:none}:host([multiline-secondary]) .mdc-deprecated-list-item__primary-text::before{display:none}:host([disabled]){color:var(--disabled-text-color)}:host([noninteractive]){pointer-events:unset}"]))),"rtl"===document.dir?(0,f.iv)(o||(o=(0,a.Z)(["span.material-icons:first-of-type,span.material-icons:last-of-type{direction:rtl!important;--direction:rtl}"]))):(0,f.iv)(r||(r=(0,a.Z)([""])))]}}])}(h.K);y=(0,p.__decorate)([(0,v.Mo)("ha-list-item")],y)},97903:function(t,e,i){if(i.d(e,{q:function(){return s}}),66977!=i.j)var n=i(5657);if(66977!=i.j)var o=i(87639);const r=t=>t.sendMessagePromise({type:"config/device_registry/list"}),a=(t,e)=>t.subscribeEvents((0,o.D)(()=>r(t).then(t=>e.setState(t,!0)),500,!0),"device_registry_updated"),s=(t,e)=>(0,n.B)("_dr",r,a,t,e)},6270:function(t,e,i){var n=i(80555);t.exports=function(t,e,i){for(var o=0,r=arguments.length>2?i:n(e),a=new t(r);r>o;)a[o]=e[o++];return a}},9734:function(t,e,i){var n=i(37722),o=i(12814),r=i(34677),a=i(87670),s=i(91051),d=i(80555),c=i(31153),l=i(6270),u=Array,p=o([].push);t.exports=function(t,e,i,o){for(var h,m,f,v=a(t),y=r(v),_=n(e,i),g=c(null),b=d(y),x=0;b>x;x++)f=y[x],(m=s(_(f,x,v)))in g?p(g[m],f):g[m]=[f];if(o&&(h=o(v))!==u)for(m in g)g[m]=l(h,g[m]);return g}},40589:function(t,e,i){var n=i(77341),o=i(9734),r=i(84950);n({target:"Array",proto:!0},{group:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),r("group")},5657:function(t,e,i){i.d(e,{B:function(){return r},_:function(){return o}});i(40777),i(12212);var n=i(55463),o=function(t,e,i,o){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{unsubGrace:!0};if(t[e])return t[e];var a,s,d=0,c=(0,n.M)(),l=function(){if(!i)throw new Error("Collection does not support refresh");return i(t).then(function(t){return c.setState(t,!0)})},u=function(){return l().catch(function(e){if(t.connected)throw e})},p=function(){s=void 0,a&&a.then(function(t){t()}),c.clearState(),t.removeEventListener("ready",l),t.removeEventListener("disconnected",h)},h=function(){s&&(clearTimeout(s),p())};return t[e]={get state(){return c.state},refresh:l,subscribe:function(e){1===++d&&function(){if(void 0!==s)return clearTimeout(s),void(s=void 0);o&&(a=o(t,c)),i&&(t.addEventListener("ready",u),u()),t.addEventListener("disconnected",h)}();var n=c.subscribe(e);return void 0!==c.state&&setTimeout(function(){return e(c.state)},0),function(){n(),--d||(r.unsubGrace?s=setTimeout(p,5e3):p())}}},t[e]},r=function(t,e,i,n,r){return o(n,t,e,i).subscribe(r)}},55463:function(t,e,i){i.d(e,{M:function(){return n}});i(2394),i(87799),i(54480),i(1455);var n=function(t){var e=[];function i(i,n){t=n?i:Object.assign(Object.assign({},t),i);for(var o=e,r=0;r<o.length;r++)o[r](t)}return{get state(){return t},action:function(e){function n(t){i(t,!1)}return function(){for(var i=[t],o=0;o<arguments.length;o++)i.push(arguments[o]);var r=e.apply(this,i);if(null!=r)return r instanceof Promise?r.then(n):n(r)}},setState:i,clearState:function(){t=void 0},subscribe:function(t){return e.push(t),function(){!function(t){for(var i=[],n=0;n<e.length;n++)e[n]===t?t=null:i.push(e[n]);e=i}(t)}}}}}}]);
//# sourceMappingURL=91517.1f5202732aeea5fc.js.map