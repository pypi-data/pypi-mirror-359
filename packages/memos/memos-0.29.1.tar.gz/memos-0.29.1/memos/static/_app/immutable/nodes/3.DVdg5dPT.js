var Gr=Object.defineProperty;var mr=d=>{throw TypeError(d)};var Yr=(d,s,m)=>s in d?Gr(d,s,{enumerable:!0,configurable:!0,writable:!0,value:m}):d[s]=m;var Ct=(d,s,m)=>Yr(d,typeof s!="symbol"?s+"":s,m),hr=(d,s,m)=>s.has(d)||mr("Cannot "+m);var ee=(d,s,m)=>(hr(d,s,"read from private field"),m?m.call(d):s.get(d)),tt=(d,s,m)=>s.has(d)?mr("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(d):s.set(d,m),br=(d,s,m,h)=>(hr(d,s,"write to private field"),h?h.call(d,m):s.set(d,m),m);import"../chunks/CWj6FrbW.js";import{i as Qr}from"../chunks/o2F3LXdy.js";import{p as Ae,c as be,f as de,s as Ge,b as a,a as He,n as ct,ad as ke,i as n,v as z,af as w,u as Xr,J as O,M as e,N as t,z as Zr,b2 as es,w as xr,b3 as ts,ac as Tr,b4 as rs,O as o,K as p,Q as i,b5 as $r,B as Yt,e as yr,ai as ss,aj as os,al as j,ag as V}from"../chunks/DX-2ULJ8.js";import{g as ns}from"../chunks/DgDAr6fC.js";import{i as ze,b as Xt}from"../chunks/BelfHvF5.js";import{I as Ht,a as It,c as Ft,d as Qt}from"../chunks/DB9DHYT7.js";import{s as Bt,r as nt,p as De,a as Sr,b as zr}from"../chunks/HpyZ4HED.js";import{C as as,u as Zt,g as er,i as tr,S as is,E as ls,j as ds,w as cs,k as vs,a as rr,n as us,b as dt,m as sr,l as fs,c as or,P as gs}from"../chunks/DwHAsTpl.js";import{c as ps,b as _s,B as rt,C as it,L as F,I as ae}from"../chunks/CfuYgRA2.js";import{b as Er}from"../chunks/DF4XRpE_.js";import{L as Ir}from"../chunks/DW1eWcWC.js";function ms(d,s){Ae(s,!0);let m=nt(s,["$$slots","$$events","$$legacy"]);const h=[["path",{d:"m12 19-7-7 7-7"}],["path",{d:"M19 12H5"}]];Ht(d,Bt({name:"arrow-left"},()=>m,{get iconNode(){return h},children:(r,A)=>{var b=be(),K=de(b);Ge(K,()=>s.children??ct),a(r,b)},$$slots:{default:!0}})),He()}function mt(d,s){Ae(s,!0);let m=nt(s,["$$slots","$$events","$$legacy"]);const h=[["path",{d:"m6 9 6 6 6-6"}]];Ht(d,Bt({name:"chevron-down"},()=>m,{get iconNode(){return h},children:(r,A)=>{var b=be(),K=de(b);Ge(K,()=>s.children??ct),a(r,b)},$$slots:{default:!0}})),He()}function ht(d,s){Ae(s,!0);let m=nt(s,["$$slots","$$events","$$legacy"]);const h=[["path",{d:"m18 15-6-6-6 6"}]];Ht(d,Bt({name:"chevron-up"},()=>m,{get iconNode(){return h},children:(r,A)=>{var b=be(),K=de(b);Ge(K,()=>s.children??ct),a(r,b)},$$slots:{default:!0}})),He()}function hs(d,s){Ae(s,!0);let m=nt(s,["$$slots","$$events","$$legacy"]);const h=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8"}],["path",{d:"M21 3v5h-5"}]];Ht(d,Bt({name:"rotate-cw"},()=>m,{get iconNode(){return h},children:(r,A)=>{var b=be(),K=de(b);Ge(K,()=>s.children??ct),a(r,b)},$$slots:{default:!0}})),He()}function bs(d,s){Ae(s,!0);let m=nt(s,["$$slots","$$events","$$legacy"]);const h=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7"}]];Ht(d,Bt({name:"save"},()=>m,{get iconNode(){return h},children:(r,A)=>{var b=be(),K=de(b);Ge(K,()=>s.children??ct),a(r,b)},$$slots:{default:!0}})),He()}const xs="data-collapsible-root",$s="data-collapsible-content",ys="data-collapsible-trigger";var Ot,Nt;class ws{constructor(s){Ct(this,"opts");tt(this,Ot,ke(null));tt(this,Nt,w(()=>({id:this.opts.id.current,"data-state":tr(this.opts.open.current),"data-disabled":er(this.opts.disabled.current),[xs]:""})));this.opts=s,this.toggleOpen=this.toggleOpen.bind(this),Zt(s)}get contentNode(){return n(ee(this,Ot))}set contentNode(s){z(ee(this,Ot),s,!0)}toggleOpen(){this.opts.open.current=!this.opts.open.current}get props(){return n(ee(this,Nt))}set props(s){z(ee(this,Nt),s)}}Ot=new WeakMap,Nt=new WeakMap;var Tt,St,zt,Et,Rt,Lt,Mt;class Ps{constructor(s,m){Ct(this,"opts");Ct(this,"root");tt(this,Tt);tt(this,St,ke(!1));tt(this,zt,ke(0));tt(this,Et,ke(0));tt(this,Rt,w(()=>this.opts.forceMount.current||this.root.opts.open.current));tt(this,Lt,w(()=>({open:this.root.opts.open.current})));tt(this,Mt,w(()=>({id:this.opts.id.current,style:{"--bits-collapsible-content-height":n(ee(this,Et))?`${n(ee(this,Et))}px`:void 0,"--bits-collapsible-content-width":n(ee(this,zt))?`${n(ee(this,zt))}px`:void 0},"data-state":tr(this.root.opts.open.current),"data-disabled":er(this.root.opts.disabled.current),[$s]:""})));this.opts=s,this.root=m,z(ee(this,St),m.opts.open.current,!0),Zt({...s,deps:()=>this.present,onRefChange:h=>{this.root.contentNode=h}}),Xr(()=>{const h=requestAnimationFrame(()=>{z(ee(this,St),!1)});return()=>{cancelAnimationFrame(h)}}),cs([()=>this.opts.ref.current,()=>this.present],([h])=>{h&&vs(()=>{if(!this.opts.ref.current)return;br(this,Tt,ee(this,Tt)||{transitionDuration:h.style.transitionDuration,animationName:h.style.animationName}),h.style.transitionDuration="0s",h.style.animationName="none";const r=h.getBoundingClientRect();if(z(ee(this,Et),r.height,!0),z(ee(this,zt),r.width,!0),!n(ee(this,St))){const{animationName:A,transitionDuration:b}=ee(this,Tt);h.style.transitionDuration=b,h.style.animationName=A}})})}get present(){return n(ee(this,Rt))}set present(s){z(ee(this,Rt),s)}get snippetProps(){return n(ee(this,Lt))}set snippetProps(s){z(ee(this,Lt),s)}get props(){return n(ee(this,Mt))}set props(s){z(ee(this,Mt),s)}}Tt=new WeakMap,St=new WeakMap,zt=new WeakMap,Et=new WeakMap,Rt=new WeakMap,Lt=new WeakMap,Mt=new WeakMap;var yt,At;class ks{constructor(s,m){Ct(this,"opts");Ct(this,"root");tt(this,yt,w(()=>this.opts.disabled.current||this.root.opts.disabled.current));tt(this,At,w(()=>{var s;return{id:this.opts.id.current,type:"button",disabled:n(ee(this,yt)),"aria-controls":(s=this.root.contentNode)==null?void 0:s.id,"aria-expanded":ds(this.root.opts.open.current),"data-state":tr(this.root.opts.open.current),"data-disabled":er(n(ee(this,yt))),[ys]:"",onclick:this.onclick,onkeydown:this.onkeydown}}));this.opts=s,this.root=m,this.onclick=this.onclick.bind(this),this.onkeydown=this.onkeydown.bind(this),Zt(s)}onclick(s){if(!n(ee(this,yt))){if(s.button!==0)return s.preventDefault();this.root.toggleOpen()}}onkeydown(s){n(ee(this,yt))||(s.key===is||s.key===ls)&&(s.preventDefault(),this.root.toggleOpen())}get props(){return n(ee(this,At))}set props(s){z(ee(this,At),s)}}yt=new WeakMap,At=new WeakMap;const nr=new as("Collapsible.Root");function Ds(d){return nr.set(new ws(d))}function Cs(d){return new ks(d,nr.get())}function Ts(d){return new Ps(d,nr.get())}var Ss=O("<div><!></div>");function zs(d,s){Ae(s,!0);let m=De(s,"id",19,rr),h=De(s,"ref",15,null),r=De(s,"open",15,!1),A=De(s,"disabled",3,!1),b=De(s,"onOpenChange",3,us),K=nt(s,["$$slots","$$events","$$legacy","children","child","id","ref","open","disabled","onOpenChange"]);const ue=Ds({open:dt.with(()=>r(),_=>{r(_),b()(_)}),disabled:dt.with(()=>A()),id:dt.with(()=>m()),ref:dt.with(()=>h(),_=>h(_))}),ie=w(()=>sr(K,ue.props));var ge=be(),Ee=de(ge);{var te=_=>{var N=be(),ye=de(N);Ge(ye,()=>s.child,()=>({props:n(ie)})),a(_,N)},ce=_=>{var N=Ss();It(N,()=>({...n(ie)}));var ye=e(N);Ge(ye,()=>s.children??ct),t(N),a(_,N)};ze(Ee,_=>{s.child?_(te):_(ce,!1)})}a(d,ge),He()}var Es=O("<div><!></div>");function Is(d,s){Ae(s,!0);let m=De(s,"ref",15,null),h=De(s,"forceMount",3,!1),r=De(s,"id",19,rr),A=nt(s,["$$slots","$$events","$$legacy","child","ref","forceMount","children","id"]);const b=Ts({id:dt.with(()=>r()),forceMount:dt.with(()=>h()),ref:dt.with(()=>m(),K=>m(K))});fs(d,{forceMount:!0,get present(){return b.present},get id(){return r()},presence:(ue,ie)=>{let ge=()=>ie==null?void 0:ie().present;var Ee=be();const te=w(()=>sr(A,b.props,{hidden:h()?void 0:!ge().current}));var ce=de(Ee);{var _=ye=>{var c=be(),g=de(c),J=Zr(()=>({...b.snippetProps,props:n(te)}));Ge(g,()=>s.child,()=>n(J)),a(ye,c)},N=ye=>{var c=Es();It(c,()=>({...n(te)}));var g=e(c);Ge(g,()=>s.children??ct),t(c),a(ye,c)};ze(ce,ye=>{s.child?ye(_):ye(N,!1)})}a(ue,Ee)},$$slots:{presence:!0}}),He()}var js=O("<button><!></button>");function Os(d,s){Ae(s,!0);let m=De(s,"ref",15,null),h=De(s,"id",19,rr),r=De(s,"disabled",3,!1),A=nt(s,["$$slots","$$events","$$legacy","children","child","ref","id","disabled"]);const b=Cs({id:dt.with(()=>h()),ref:dt.with(()=>m(),te=>m(te)),disabled:dt.with(()=>r())}),K=w(()=>sr(A,b.props));var ue=be(),ie=de(ue);{var ge=te=>{var ce=be(),_=de(ce);Ge(_,()=>s.child,()=>({props:n(K)})),a(te,ce)},Ee=te=>{var ce=js();It(ce,()=>({...n(K)}));var _=e(ce);Ge(_,()=>s.children??ct),t(ce),a(te,ce)};ze(ie,te=>{s.child?te(ge):te(Ee,!1)})}a(d,ue),He()}const Ns=ps({base:"[&>svg]:text-foreground relative w-full rounded-lg border p-4 [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg~*]:pl-7",variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}});var Rs=O("<div><!></div>");function wr(d,s){Ae(s,!0);let m=De(s,"ref",15,null),h=De(s,"variant",3,"default"),r=nt(s,["$$slots","$$events","$$legacy","ref","class","variant","children"]);var A=Rs();It(A,K=>({class:K,...r,role:"alert"}),[()=>or(Ns({variant:h()}),s.class)]);var b=e(A);Ge(b,()=>s.children??ct),t(A),Xt(A,K=>m(K),()=>m()),a(d,A),He()}var Ls=O("<div><!></div>");function Pr(d,s){Ae(s,!0);let m=De(s,"ref",15,null),h=nt(s,["$$slots","$$events","$$legacy","ref","class","children"]);var r=Ls();It(r,b=>({class:b,...h}),[()=>or("text-sm [&_p]:leading-relaxed",s.class)]);var A=e(r);Ge(A,()=>s.children??ct),t(r),Xt(r,b=>m(b),()=>m()),a(d,r),He()}const kr=typeof document<"u";function Dr(d){const s=es(d);function m(r){kr&&s.set(r)}function h(r){kr&&s.update(r)}return{subscribe:s.subscribe,set:m,update:h}}let Cr=0;function Ms(){const d=Dr([]),s=Dr([]);function m(c){d.update(g=>[c,...g])}function h(c){var wt;const{message:g,...J}=c,Ce=typeof(c==null?void 0:c.id)=="number"||c.id&&((wt=c.id)==null?void 0:wt.length)>0?c.id:Cr++,Ye=c.dismissable===void 0?!0:c.dismissable,xe=c.type===void 0?"default":c.type;return xr(d).find(x=>x.id===Ce)?d.update(x=>x.map(Pt=>Pt.id===Ce?{...Pt,...c,id:Ce,title:g,dismissable:Ye,type:xe,updated:!0}:{...Pt,updated:!1})):m({...J,id:Ce,title:g,dismissable:Ye,type:xe}),Ce}function r(c){if(c===void 0){d.update(g=>g.map(J=>({...J,dismiss:!0})));return}return d.update(g=>g.map(J=>J.id===c?{...J,dismiss:!0}:J)),c}function A(c){if(c===void 0){d.set([]);return}return d.update(g=>g.filter(J=>J.id!==c)),c}function b(c,g){return h({...g,type:"default",message:c})}function K(c,g){return h({...g,type:"error",message:c})}function ue(c,g){return h({...g,type:"success",message:c})}function ie(c,g){return h({...g,type:"info",message:c})}function ge(c,g){return h({...g,type:"warning",message:c})}function Ee(c,g){return h({...g,type:"loading",message:c})}function te(c,g){if(!g)return;let J;g.loading!==void 0&&(J=h({...g,promise:c,type:"loading",message:g.loading}));const Ce=c instanceof Promise?c:c();let Ye=J!==void 0;return Ce.then(xe=>{if(xe&&typeof xe.ok=="boolean"&&!xe.ok){Ye=!1;const at=typeof g.error=="function"?g.error(`HTTP error! status: ${xe.status}`):g.error;h({id:J,type:"error",message:at})}else if(g.success!==void 0){Ye=!1;const at=typeof g.success=="function"?g.success(xe):g.success;h({id:J,type:"success",message:at})}}).catch(xe=>{if(g.error!==void 0){Ye=!1;const at=typeof g.error=="function"?g.error(xe):g.error;h({id:J,type:"error",message:at})}}).finally(()=>{var xe;Ye&&(r(J),J=void 0),(xe=g.finally)==null||xe.call(g)}),J}function ce(c,g){const J=(g==null?void 0:g.id)||Cr++;return h({component:c,id:J,...g}),J}function _(c){s.update(g=>g.filter(J=>J.toastId!==c))}function N(c){if(xr(s).find(J=>J.toastId===c.toastId)===void 0){s.update(J=>[c,...J]);return}s.update(J=>J.map(Ce=>Ce.toastId===c.toastId?c:Ce))}function ye(){d.set([]),s.set([])}return{create:h,addToast:m,dismiss:r,remove:A,message:b,error:K,success:ue,info:ie,warning:ge,loading:Ee,promise:te,custom:ce,removeHeight:_,setHeight:N,reset:ye,toasts:d,heights:s}}const lt=Ms();function As(d,s){return lt.create({message:d,...s})}const Hs=As,vt=Object.assign(Hs,{success:lt.success,info:lt.info,warning:lt.warning,error:lt.error,custom:lt.custom,message:lt.message,promise:lt.promise,dismiss:lt.dismiss,loading:lt.loading});var Bs=O("<textarea></textarea>");function Vs(d,s){Ae(s,!0);let m=De(s,"ref",15,null),h=De(s,"value",15),r=nt(s,["$$slots","$$events","$$legacy","ref","value","class"]);var A=Bs();ts(A),It(A,b=>({class:b,...r}),[()=>or("border-input bg-background ring-offset-background placeholder:text-muted-foreground focus-visible:ring-ring flex min-h-[80px] w-full rounded-md border px-3 py-2 text-base focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s.class)]),Xt(A,b=>m(b),()=>m()),_s(A,h),a(d,A),He()}var Fs=O('<div class="fixed inset-0 bg-black/70 flex flex-col items-center justify-center z-50"><!> <h3 class="text-xl font-medium text-white mb-2"> </h3> <p class="text-white text-center max-w-md"> </p></div>');function Js(d,s){Ae(s,!0);const[m,h]=Sr(),r=()=>zr(Er,"$_",m);let A=De(s,"onStatusChange",3,()=>{}),b=ke(!0),K=null,ue=ke(0);const ie=60;function ge(){K&&(clearInterval(K),K=null)}async function Ee(){try{(await fetch(`${s.apiEndpoint}/health`,{cache:"no-store"})).ok?(z(b,!1),A()(),ge(),z(ue,0),vt.success(r()("config.title"),{description:r()("config.servicesRestarted")})):($r(ue),n(ue)>=ie&&(z(b,!1),A()(),ge(),vt.error(r()("config.error"),{description:r()("config.servicesRestartTimeout")})))}catch{$r(ue),n(ue)>=ie&&(z(b,!1),A()(),ge(),vt.error(r()("config.error"),{description:r()("config.servicesRestartTimeout")}))}}function te(){z(ue,0),z(b,!0),setTimeout(()=>{K=setInterval(Ee,1e3)},1e3)}Tr(()=>{te()}),rs(()=>{ge()});var ce=be(),_=de(ce);{var N=c=>{var g=Fs(),J=e(g);Ir(J,{size:36,class:"text-primary mb-4 animate-spin"});var Ce=o(J,2),Ye=e(Ce,!0);t(Ce);var xe=o(Ce,2),at=e(xe,!0);t(xe),t(g),p((R,wt)=>{i(Ye,R),i(at,wt)},[()=>r()("config.servicesRestartingTitle"),()=>r()("config.servicesRestartingMessage")]),a(c,g)};ze(_,c=>{n(b)&&c(N)})}a(d,ce);var ye=He({startHealthCheck:te});return h(),ye}const bt=zs,xt=Os,$t=Is;var Us=O("<!> ",1),Ws=O("<!> ",1),qs=O("<!> ",1),Ks=O('<div class="fixed inset-0 bg-black/50 flex items-center justify-center z-50"><div class="bg-white rounded-lg p-6 max-w-md w-full mx-4 shadow-xl"><h3 class="text-lg font-medium mb-2"> </h3> <p class="text-gray-600 mb-4"> </p> <div class="flex justify-end space-x-2"><!> <!></div></div></div>'),Gs=O('<div class="flex justify-center items-center h-64"><!></div>'),Ys=O('<div class="flex items-center justify-between p-4"><div class="space-y-1 text-left"><h3 class="text-lg font-semibold"> </h3> <p class="text-sm text-muted-foreground"> </p></div> <!></div>'),Qs=O("<span> </span>"),Xs=O("<span> </span>"),Zs=O('<div class="p-4 pt-0"><div class="grid gap-4"><div class="flex items-start space-x-2"><!> <div class="space-y-1 leading-none"><!> <p class="text-sm text-muted-foreground"> </p></div></div> <div class="flex items-start space-x-2"><!> <div class="space-y-1 leading-none"><!></div></div> <div class="flex items-start space-x-2"><!> <div class="space-y-1 leading-none"><!> <p class="text-sm text-muted-foreground"> </p></div></div> <div class="grid grid-cols-2 gap-4"><div><!> <!> <p class="text-sm text-muted-foreground mt-1"> </p></div> <div><!> <!></div></div> <div><!> <!> <p class="text-sm text-muted-foreground mt-1"> </p></div></div></div>'),eo=O('<div class="border rounded-lg bg-white"><!> <!></div>'),to=O('<div class="flex items-center justify-between p-4"><div class="space-y-1 text-left"><h3 class="text-lg font-semibold"> </h3> <p class="text-sm text-muted-foreground"> </p></div> <!></div>'),ro=O("<span> </span>"),so=O('<div class="p-4 pt-0"><div class="grid gap-4"><div class="flex items-start space-x-2 mb-4"><!> <div class="space-y-1 leading-none"><!> <p class="text-sm text-muted-foreground"> </p></div></div> <div><!> <!> <p class="text-sm text-muted-foreground mt-1"> </p></div> <div class="grid grid-cols-2 gap-4"><div><!> <!></div> <div><!> <!></div></div> <div><!> <!> <p class="text-sm text-muted-foreground mt-1"> </p></div> <div class="flex items-start space-x-2"><!> <div class="space-y-1 leading-none"><!> <p class="text-sm text-muted-foreground"> </p></div></div> <div><!> <div class="relative"><!></div> <p class="text-sm text-muted-foreground mt-1"> </p></div></div></div>'),oo=O('<div class="border rounded-lg bg-white"><!> <!></div>'),no=O('<div class="flex items-center justify-between p-4"><div class="space-y-1 text-left"><h3 class="text-lg font-semibold"> </h3> <p class="text-sm text-muted-foreground"> </p></div> <!></div>'),ao=O('<div class="p-4 pt-0"><div class="grid gap-4"><div><!> <!> <p class="text-sm text-muted-foreground mt-1"> </p></div></div></div>'),io=O('<div class="border rounded-lg bg-white"><!> <!></div>'),lo=O('<div class="flex items-center justify-between p-4"><div class="space-y-1 text-left"><h3 class="text-lg font-semibold"> </h3> <p class="text-sm text-muted-foreground"> </p></div> <!></div>'),co=O('<div class="p-4 pt-0"><div class="grid gap-4"><div class="grid grid-cols-2 gap-4"><div><!> <!> <p class="text-sm text-muted-foreground mt-1"> </p></div> <div><!> <!> <p class="text-sm text-muted-foreground mt-1"> </p></div></div> <div class="grid grid-cols-2 gap-4"><div><!> <!> <p class="text-sm text-muted-foreground mt-1"> </p></div> <div><!> <!> <p class="text-sm text-muted-foreground mt-1"> </p></div></div> <div class="grid grid-cols-2 gap-4"><div><!> <!></div> <div><!> <!> <p class="text-sm text-muted-foreground mt-1"> </p></div></div></div></div>'),vo=O('<div class="border rounded-lg bg-white"><!> <!></div>'),uo=O('<div class="flex items-center justify-between p-4"><div class="space-y-1 text-left"><h3 class="text-lg font-semibold"> </h3> <p class="text-sm text-muted-foreground"> </p></div> <!></div>'),fo=O('<div class="p-4 pt-0"><div class="grid gap-4"><div class="grid grid-cols-2 gap-4"><div><!> <!> <p class="text-sm text-muted-foreground mt-1"> </p></div> <div><!> <!> <p class="text-sm text-muted-foreground mt-1"> </p></div></div> <div class="grid grid-cols-2 gap-4"><div><!> <!> <p class="text-sm text-muted-foreground mt-1"> </p></div> <div><!> <!> <p class="text-sm text-muted-foreground mt-1"> </p></div></div> <div class="flex items-start space-x-2"><!> <div class="space-y-1 leading-none"><!> <p class="text-sm text-muted-foreground"> </p></div></div> <div class="space-y-3"><h4 class="text-sm font-medium"> </h4> <div class="flex items-center space-x-2"><!> <!></div> <div class="flex items-center space-x-2"><!> <!></div> <p class="text-sm text-muted-foreground"> </p></div></div></div>'),go=O('<div class="border rounded-lg bg-white"><!> <!></div>'),po=O('<div class="flex items-center justify-between p-4"><div class="space-y-1 text-left"><h3 class="text-lg font-semibold"> </h3> <p class="text-sm text-muted-foreground"> </p></div> <!></div>'),_o=O('<div class="p-4 pt-0"><div class="grid gap-4"><div class="grid grid-cols-2 gap-4"><div><!> <!> <p class="text-sm text-muted-foreground mt-1"> </p></div> <div><!> <!> <p class="text-sm text-muted-foreground mt-1"> </p></div></div> <div class="grid grid-cols-2 gap-4"><div><!> <!></div> <div><!> <!></div></div></div></div>'),mo=O('<div class="border rounded-lg bg-white"><!> <!></div>'),ho=O('<div class="flex items-center justify-between p-4"><div class="space-y-1 text-left"><h3 class="text-lg font-semibold"> </h3> <p class="text-sm text-muted-foreground"> </p></div> <!></div>'),bo=O(' <code class="bg-amber-100 px-1 py-0.5 rounded font-mono text-amber-800">memos reindex --force</code>',1),xo=O('<div class="p-4 pt-0"><div class="grid gap-4"><!> <div class="grid gap-4"><div class="flex items-start space-x-2"><!> <div class="space-y-1 leading-none"><!></div></div> <div class="flex items-start space-x-2"><!> <div class="space-y-1 leading-none"><!> <p class="text-sm text-muted-foreground"> </p></div></div></div> <div class="grid grid-cols-2 gap-4"><div><!> <!> <p class="text-sm text-muted-foreground mt-1"> </p></div> <div><!> <!> <p class="text-sm text-muted-foreground mt-1"> </p></div></div> <div class="grid grid-cols-2 gap-4"><div><!> <!> <p class="text-sm text-muted-foreground mt-1"> </p></div> <div><!> <!></div></div></div></div>'),$o=O('<div class="border rounded-lg bg-white"><!> <!></div>'),yo=O('<div class="mb-6"><!></div> <div class="mb-6"><!></div> <div class="mb-6"><!></div> <div class="mb-6"><!></div> <div class="mb-6"><!></div> <div class="mb-6"><!></div> <div class="mb-6"><!></div>',1),wo=O('<div class="container mx-auto p-4 pt-0 max-w-5xl"><!> <header class="sticky top-0 z-10 transition-all duration-300 bg-white mb-4 border rounded-b-lg"><div><div class="flex items-center"><!> <h1 class="text-3xl font-bold"> </h1></div> <div class="flex space-x-2"><!> <!></div></div></header> <!> <!> <!></div>');function Po(d,s){Ae(s,!0);const[m,h]=Sr(),r=()=>zr(Er,"$_",m),A=gs+"/api";let b=ke(null),K=ke(!0),ue=ke(!1),ie=ke(null),ge=ke(Yt({})),Ee=ke(!1),te=ke(!1),ce=ke(null),_=Yt({inputsDisabled:{ocr:!1,embedding:!1},pluginDisabled:{ocr:!1,vlm:!1}}),N=ke(Yt({general:!1,serve:!1,record:!1,watch:!1,ocr:!1,vlm:!1,embedding:!1})),ye=ke(!1),c=ke(!1);function g(){window.scrollY>100?z(c,!0):n(c)&&window.scrollY<20&&z(c,!1)}function J(){try{const l=localStorage.getItem("configSectionStates");if(l){const D=JSON.parse(l);z(N,{...D},!0)}}catch(l){console.error("Error loading collapse states:",l)}}function Ce(){if(n(ye))try{localStorage.setItem("configSectionStates",JSON.stringify(n(N)))}catch(l){console.error("Error saving collapse states:",l)}}yr(()=>{n(N)&&Ce()}),Tr(()=>(J(),Ye().then(()=>{z(ye,!0)}),window.addEventListener("scroll",g),()=>{window.removeEventListener("scroll",g)}));async function Ye(){z(K,!0),z(ie,null);try{const l=await fetch(`${A}/config`);if(!l.ok)throw new Error(`Error fetching config: ${l.status} ${l.statusText}`);z(b,await l.json(),!0),z(ge,{},!0),n(b)&&n(b).ocr&&(_.inputsDisabled.ocr=n(b).ocr.use_local,_.pluginDisabled.ocr=!n(b).ocr.enabled),n(b)&&n(b).embedding&&(_.inputsDisabled.embedding=n(b).embedding.use_local),n(b)&&n(b).vlm&&(_.pluginDisabled.vlm=!n(b).vlm.enabled)}catch(l){z(ie,l instanceof Error?l.message:"Unknown error fetching configuration",!0),console.error(n(ie))}finally{z(K,!1)}}async function xe(){if(Object.keys(n(ge)).length===0){vt.message(r()("config.title"),{description:r()("config.noChanges")});return}z(ue,!0);try{const l=await fetch(`${A}/config`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n(ge))});if(!l.ok){const Y=await l.json();throw new Error(Y.detail||`Error: ${l.status} ${l.statusText}`)}const H=(await l.json()).restart_required;Object.values(H).some(Y=>Y)?(vt.success(r()("config.title"),{description:r()("config.savedSuccessfully")}),H.serve&&z(te,!0)):vt.success(r()("config.title"),{description:r()("config.savedSuccessfully")}),await Ye()}catch(l){z(ie,l instanceof Error?l.message:"Unknown error saving configuration",!0),console.error(n(ie)),vt.error(r()("config.error"),{description:n(ie)})}finally{z(ue,!1)}}async function at(){z(Ee,!1),z(ue,!0);const l={serve:!0,watch:!0,record:!0};l.serve&&z(te,!0);try{const D=await fetch(`${A}/config/restart`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)});if(!D.ok){const H=await D.json();throw new Error(H.detail||`Error: ${D.status} ${D.statusText}`)}vt.success(r()("config.title"),{description:r()("config.servicesRestarting")}),l.serve||z(te,!0)}catch(D){z(ie,D instanceof Error?D.message:"Unknown error restarting services",!0),console.error(n(ie)),vt.error(r()("config.error"),{description:n(ie)}),z(te,!1)}finally{z(ue,!1)}}function R(l,D){let H=n(ge);const Y=l[l.length-1];for(let Te=0;Te<l.length-1;Te++){const ve=l[Te];H[ve]||(H[ve]={}),H=H[ve]}H[Y]=D}function wt(l){if(!n(b))return null;let D=n(b);for(const H of l){if(D==null||!D.hasOwnProperty(H))return null;D=D[H]}return D}function x(l){l[0]==="ocr"&&l[1];let H,Y=n(ge);for(const ve of l){if(Y==null||!Y.hasOwnProperty(ve)){H=void 0;break}Y=Y[ve],H=Y}return H!==void 0?H:wt(l)}function Pt(l,D){R([l,"use_local"],D),_.inputsDisabled[l]=D}function ar(l,D){R([l,"enabled"],D),_.pluginDisabled[l]=!D}function ir(l){l.style.height="auto";const H=Math.max(l.scrollHeight,72);l.style.height=H+"px"}yr(()=>{n(b)&&!n(K)&&n(ce)&&ir(n(ce))});var Jt=wo();ss(l=>{p(D=>os.title=`Pensieve - ${D??""}`,[()=>r()("config.title")])});var lr=e(Jt);{var jr=l=>{Js(l,{get apiEndpoint(){return A},onStatusChange:()=>{z(te,!1)}})};ze(lr,l=>{n(te)&&l(jr)})}var Ut=o(lr,2),Wt=e(Ut);let dr;var qt=e(Wt),cr=e(qt);rt(cr,{variant:"ghost",get onclick(){return s.onBack},class:"mr-4",children:(l,D)=>{var H=Us(),Y=de(H);ms(Y,{size:18,class:"mr-2"});var Te=o(Y);p(ve=>i(Te,` ${ve??""}`),[()=>r()("back")]),a(l,H)},$$slots:{default:!0}});var vr=o(cr,2),Or=e(vr,!0);t(vr),t(qt);var ur=o(qt,2),fr=e(ur);const Nr=w(()=>n(ue)||n(te));rt(fr,{variant:"outline",onclick:()=>{z(Ee,!0)},get disabled(){return n(Nr)},children:(l,D)=>{var H=Ws(),Y=de(H);hs(Y,{size:18,class:"mr-2"});var Te=o(Y);p(ve=>i(Te,` ${ve??""}`),[()=>r()("config.restartServices")]),a(l,H)},$$slots:{default:!0}});var Rr=o(fr,2);const Lr=w(()=>n(ue)||n(te)||Object.keys(n(ge)).length===0);rt(Rr,{variant:"default",onclick:xe,get disabled(){return n(Lr)},children:(l,D)=>{var H=qs(),Y=de(H);bs(Y,{size:18,class:"mr-2"});var Te=o(Y);p(ve=>i(Te,` ${ve??""}`),[()=>r()("config.saveButton")]),a(l,H)},$$slots:{default:!0}}),t(ur),t(Wt),t(Ut);var gr=o(Ut,2);{var Mr=l=>{wr(l,{variant:"destructive",class:"mb-4",children:(D,H)=>{Pr(D,{children:(Y,Te)=>{j();var ve=V();p(()=>i(ve,n(ie))),a(Y,ve)},$$slots:{default:!0}})},$$slots:{default:!0}})};ze(gr,l=>{n(ie)&&l(Mr)})}var pr=o(gr,2);{var Ar=l=>{var D=Ks(),H=e(D),Y=e(H),Te=e(Y,!0);t(Y);var ve=o(Y,2),Kt=e(ve,!0);t(ve);var kt=o(ve,2),Vt=e(kt);rt(Vt,{variant:"outline",onclick:()=>{z(Ee,!1)},children:(ft,gt)=>{j();var pt=V();p(_t=>i(pt,_t),[()=>r()("config.cancel")]),a(ft,pt)},$$slots:{default:!0}});var jt=o(Vt,2);rt(jt,{variant:"destructive",onclick:at,children:(ft,gt)=>{j();var pt=V();p(_t=>i(pt,_t),[()=>r()("config.confirm")]),a(ft,pt)},$$slots:{default:!0}}),t(kt),t(H),t(D),p((ft,gt)=>{i(Te,ft),i(Kt,gt)},[()=>r()("config.restartConfirmTitle"),()=>r()("config.restartConfirmMessage")]),a(l,D)};ze(pr,l=>{n(Ee)&&l(Ar)})}var Hr=o(pr,2);{var Br=l=>{var D=Gs(),H=e(D);Ir(H,{size:36,class:"text-primary animate-spin"}),t(D),a(l,D)},Vr=(l,D)=>{{var H=Y=>{var Te=yo(),ve=de(Te),Kt=e(ve);bt(Kt,{get open(){return n(N).ocr},set open(re){n(N).ocr=re},children:(re,Dt)=>{var se=eo(),pe=e(se);xt(pe,{class:"w-full",children:(oe,Ve)=>{var $=Ys(),P=e($),y=e(P),L=e(y,!0);t(y);var E=o(y,2),G=e(E,!0);t(E),t(P);var X=o(P,2);rt(X,{variant:"ghost",size:"icon",class:"hover:bg-transparent",children:(k,M)=>{var S=be(),W=de(S);{var Q=u=>{mt(u,{size:20})},ne=u=>{ht(u,{size:20})};ze(W,u=>{n(N).ocr?u(ne,!1):u(Q)})}a(k,S)},$$slots:{default:!0}}),t($),p((k,M)=>{i(L,k),i(G,M)},[()=>r()("config.ocr.title"),()=>r()("config.ocr.description")]),a(oe,$)},$$slots:{default:!0}});var Be=o(pe,2);$t(Be,{children:(oe,Ve)=>{var $=Zs(),P=e($),y=e(P),L=e(y);const E=w(()=>x(["ocr","enabled"]));it(L,{id:"enable-ocr",get checked(){return n(E)},onCheckedChange:()=>{ar("ocr",!x(["ocr","enabled"]))}});var G=o(L,2),X=e(G);F(X,{for:"enable-ocr",children:(f,I)=>{j();var v=V();p(U=>i(v,U),[()=>r()("config.ocr.enabled",{default:"Enable OCR Plugin"})]),a(f,v)},$$slots:{default:!0}});var k=o(X,2),M=e(k,!0);t(k),t(G),t(y);var S=o(y,2),W=e(S);const Q=w(()=>x(["ocr","use_local"]));it(W,{id:"use-local-ocr",get checked(){return n(Q)},get disabled(){return _.pluginDisabled.ocr},onCheckedChange:()=>{_.pluginDisabled.ocr||Pt("ocr",!x(["ocr","use_local"]))}});var ne=o(W,2),u=e(ne);F(u,{for:"use-local-ocr",children:(f,I)=>{var v=Qs(),U=e(v,!0);t(v),p(B=>{Ft(v,1,Qt(_.pluginDisabled.ocr?"text-muted-foreground":"")),i(U,B)},[()=>r()("config.ocr.useLocal")]),a(f,v)},$$slots:{default:!0}}),t(ne),t(S);var Le=o(S,2),me=e(Le);const fe=w(()=>x(["ocr","force_jpeg"]));it(me,{id:"force-jpeg-ocr",get checked(){return n(fe)},get disabled(){return _.pluginDisabled.ocr},onCheckedChange:()=>{_.pluginDisabled.ocr||R(["ocr","force_jpeg"],!x(["ocr","force_jpeg"]))}});var $e=o(me,2),Ie=e($e);F(Ie,{for:"force-jpeg-ocr",children:(f,I)=>{var v=Xs(),U=e(v,!0);t(v),p(B=>{Ft(v,1,Qt(_.pluginDisabled.ocr?"text-muted-foreground":"")),i(U,B)},[()=>r()("config.ocr.forceJpeg")]),a(f,v)},$$slots:{default:!0}});var Fe=o(Ie,2),je=e(Fe,!0);t(Fe),t($e),t(Le);var Se=o(Le,2),Oe=e(Se),Ne=e(Oe);F(Ne,{for:"ocr-endpoint",children:(f,I)=>{j();var v=V();p(U=>i(v,U),[()=>r()("config.ocr.endpoint")]),a(f,v)},$$slots:{default:!0}});var q=o(Ne,2);const we=w(()=>x(["ocr","endpoint"])),le=w(()=>_.inputsDisabled.ocr||_.pluginDisabled.ocr);ae(q,{id:"ocr-endpoint",class:"font-mono",get value(){return n(we)},get disabled(){return n(le)},onchange:f=>{!_.inputsDisabled.ocr&&!_.pluginDisabled.ocr&&R(["ocr","endpoint"],f.currentTarget.value)}});var he=o(q,2),Je=e(he,!0);t(he),t(Oe);var Me=o(Oe,2),Re=e(Me);F(Re,{for:"ocr-token",children:(f,I)=>{j();var v=V();p(U=>i(v,U),[()=>r()("config.ocr.token")]),a(f,v)},$$slots:{default:!0}});var Qe=o(Re,2);const st=w(()=>x(["ocr","token"])==="********"?"":x(["ocr","token"])),Xe=w(()=>_.inputsDisabled.ocr||_.pluginDisabled.ocr);ae(Qe,{id:"ocr-token",class:"font-mono",type:"password",get value(){return n(st)},placeholder:"********",get disabled(){return n(Xe)},onchange:f=>{f.currentTarget.value&&!_.inputsDisabled.ocr&&!_.pluginDisabled.ocr&&R(["ocr","token"],f.currentTarget.value)}}),t(Me),t(Se);var Ue=o(Se,2),We=e(Ue);F(We,{for:"ocr-concurrency",children:(f,I)=>{j();var v=V();p(U=>i(v,U),[()=>r()("config.ocr.concurrency")]),a(f,v)},$$slots:{default:!0}});var qe=o(We,2);const Ze=w(()=>x(["ocr","concurrency"]));ae(qe,{id:"ocr-concurrency",class:"font-mono",type:"number",get value(){return n(Ze)},get disabled(){return _.pluginDisabled.ocr},onchange:f=>{_.pluginDisabled.ocr||R(["ocr","concurrency"],parseInt(f.currentTarget.value))}});var Ke=o(qe,2),T=e(Ke,!0);t(Ke),t(Ue),t(P),t($),p((f,I,v,U)=>{i(M,f),i(je,I),i(Je,v),i(T,U)},[()=>r()("config.ocr.enabledDesc",{default:"Whether to enable the OCR plugin. Disable to save memory."}),()=>r()("config.ocr.forceJpegDesc"),()=>r()("config.ocr.endpointDesc"),()=>r()("config.ocr.concurrencyDesc")]),a(oe,$)},$$slots:{default:!0}}),t(se),a(re,se)},$$slots:{default:!0}}),t(ve);var kt=o(ve,2),Vt=e(kt);bt(Vt,{get open(){return n(N).vlm},set open(re){n(N).vlm=re},children:(re,Dt)=>{var se=oo(),pe=e(se);xt(pe,{class:"w-full",children:(oe,Ve)=>{var $=to(),P=e($),y=e(P),L=e(y,!0);t(y);var E=o(y,2),G=e(E,!0);t(E),t(P);var X=o(P,2);rt(X,{variant:"ghost",size:"icon",class:"hover:bg-transparent",children:(k,M)=>{var S=be(),W=de(S);{var Q=u=>{mt(u,{size:20})},ne=u=>{ht(u,{size:20})};ze(W,u=>{n(N).vlm?u(ne,!1):u(Q)})}a(k,S)},$$slots:{default:!0}}),t($),p((k,M)=>{i(L,k),i(G,M)},[()=>r()("config.vlm.title"),()=>r()("config.vlm.description")]),a(oe,$)},$$slots:{default:!0}});var Be=o(pe,2);$t(Be,{children:(oe,Ve)=>{var $=so(),P=e($),y=e(P),L=e(y);const E=w(()=>x(["vlm","enabled"]));it(L,{id:"enable-vlm",get checked(){return n(E)},onCheckedChange:()=>{ar("vlm",!x(["vlm","enabled"]))}});var G=o(L,2),X=e(G);F(X,{for:"enable-vlm",children:(B,et)=>{j();var Z=V();p(Pe=>i(Z,Pe),[()=>r()("config.vlm.enabled",{default:"Enable VLM Plugin"})]),a(B,Z)},$$slots:{default:!0}});var k=o(X,2),M=e(k,!0);t(k),t(G),t(y);var S=o(y,2),W=e(S);F(W,{for:"model-name",children:(B,et)=>{j();var Z=V();p(Pe=>i(Z,Pe),[()=>r()("config.vlm.modelName")]),a(B,Z)},$$slots:{default:!0}});var Q=o(W,2);const ne=w(()=>x(["vlm","modelname"]));ae(Q,{id:"model-name",class:"font-mono",get value(){return n(ne)},get disabled(){return _.pluginDisabled.vlm},onchange:B=>{_.pluginDisabled.vlm||R(["vlm","modelname"],B.currentTarget.value)}});var u=o(Q,2),Le=e(u,!0);t(u),t(S);var me=o(S,2),fe=e(me),$e=e(fe);F($e,{for:"vlm-endpoint",children:(B,et)=>{j();var Z=V();p(Pe=>i(Z,Pe),[()=>r()("config.vlm.endpoint")]),a(B,Z)},$$slots:{default:!0}});var Ie=o($e,2);const Fe=w(()=>x(["vlm","endpoint"]));ae(Ie,{id:"vlm-endpoint",class:"font-mono",get value(){return n(Fe)},get disabled(){return _.pluginDisabled.vlm},onchange:B=>{_.pluginDisabled.vlm||R(["vlm","endpoint"],B.currentTarget.value)}}),t(fe);var je=o(fe,2),Se=e(je);F(Se,{for:"vlm-token",children:(B,et)=>{j();var Z=V();p(Pe=>i(Z,Pe),[()=>r()("config.vlm.token")]),a(B,Z)},$$slots:{default:!0}});var Oe=o(Se,2);const Ne=w(()=>x(["vlm","token"])==="********"?"":x(["vlm","token"]));ae(Oe,{id:"vlm-token",class:"font-mono",type:"password",get value(){return n(Ne)},placeholder:"********",get disabled(){return _.pluginDisabled.vlm},onchange:B=>{B.currentTarget.value&&!_.pluginDisabled.vlm&&R(["vlm","token"],B.currentTarget.value)}}),t(je),t(me);var q=o(me,2),we=e(q);F(we,{for:"vlm-concurrency",children:(B,et)=>{j();var Z=V();p(Pe=>i(Z,Pe),[()=>r()("config.vlm.concurrency")]),a(B,Z)},$$slots:{default:!0}});var le=o(we,2);const he=w(()=>x(["vlm","concurrency"]));ae(le,{id:"vlm-concurrency",class:"font-mono",type:"number",get value(){return n(he)},get disabled(){return _.pluginDisabled.vlm},onchange:B=>{_.pluginDisabled.vlm||R(["vlm","concurrency"],parseInt(B.currentTarget.value))}});var Je=o(le,2),Me=e(Je,!0);t(Je),t(q);var Re=o(q,2),Qe=e(Re);const st=w(()=>x(["vlm","force_jpeg"]));it(Qe,{id:"force-jpeg-vlm",get checked(){return n(st)},get disabled(){return _.pluginDisabled.vlm},onCheckedChange:()=>{_.pluginDisabled.vlm||R(["vlm","force_jpeg"],!x(["vlm","force_jpeg"]))}});var Xe=o(Qe,2),Ue=e(Xe);F(Ue,{for:"force-jpeg-vlm",children:(B,et)=>{var Z=ro(),Pe=e(Z,!0);t(Z),p(C=>{Ft(Z,1,Qt(_.pluginDisabled.vlm?"text-muted-foreground":"")),i(Pe,C)},[()=>r()("config.vlm.forceJpeg")]),a(B,Z)},$$slots:{default:!0}});var We=o(Ue,2),qe=e(We,!0);t(We),t(Xe),t(Re);var Ze=o(Re,2),Ke=e(Ze);F(Ke,{for:"vlm-prompt",children:(B,et)=>{j();var Z=V();p(Pe=>i(Z,Pe),[()=>r()("config.vlm.prompt")]),a(B,Z)},$$slots:{default:!0}});var T=o(Ke,2),f=e(T);const I=w(()=>x(["vlm","prompt"]));Vs(f,{id:"vlm-prompt",class:"font-mono resize-none overflow-hidden w-full min-h-[72px] rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",get value(){return n(I)},get disabled(){return _.pluginDisabled.vlm},oninput:B=>{_.pluginDisabled.vlm||(R(["vlm","prompt"],B.currentTarget.value),n(ce)&&ir(n(ce)))},get ref(){return n(ce)},set ref(B){z(ce,B,!0)}}),t(T);var v=o(T,2),U=e(v,!0);t(v),t(Ze),t(P),t($),p((B,et,Z,Pe,C)=>{i(M,B),i(Le,et),i(Me,Z),i(qe,Pe),i(U,C)},[()=>r()("config.vlm.enabledDesc",{default:"Whether to enable the VLM plugin. Disable to save memory."}),()=>r()("config.vlm.modelNameDesc"),()=>r()("config.vlm.concurrencyDesc"),()=>r()("config.vlm.forceJpegDesc"),()=>r()("config.vlm.promptDesc")]),a(oe,$)},$$slots:{default:!0}}),t(se),a(re,se)},$$slots:{default:!0}}),t(kt);var jt=o(kt,2),ft=e(jt);bt(ft,{get open(){return n(N).record},set open(re){n(N).record=re},children:(re,Dt)=>{var se=io(),pe=e(se);xt(pe,{class:"w-full",children:(oe,Ve)=>{var $=no(),P=e($),y=e(P),L=e(y,!0);t(y);var E=o(y,2),G=e(E,!0);t(E),t(P);var X=o(P,2);rt(X,{variant:"ghost",size:"icon",class:"hover:bg-transparent",children:(k,M)=>{var S=be(),W=de(S);{var Q=u=>{mt(u,{size:20})},ne=u=>{ht(u,{size:20})};ze(W,u=>{n(N).record?u(ne,!1):u(Q)})}a(k,S)},$$slots:{default:!0}}),t($),p((k,M)=>{i(L,k),i(G,M)},[()=>r()("config.record.title"),()=>r()("config.record.description")]),a(oe,$)},$$slots:{default:!0}});var Be=o(pe,2);$t(Be,{children:(oe,Ve)=>{var $=ao(),P=e($),y=e(P),L=e(y);F(L,{for:"record-interval",children:(M,S)=>{j();var W=V();p(Q=>i(W,Q),[()=>r()("config.record.interval")]),a(M,W)},$$slots:{default:!0}});var E=o(L,2);const G=w(()=>x(["record_interval"]));ae(E,{id:"record-interval",class:"font-mono",type:"number",get value(){return n(G)},onchange:M=>R(["record_interval"],parseInt(M.currentTarget.value))});var X=o(E,2),k=e(X,!0);t(X),t(y),t(P),t($),p(M=>i(k,M),[()=>r()("config.record.intervalDesc")]),a(oe,$)},$$slots:{default:!0}}),t(se),a(re,se)},$$slots:{default:!0}}),t(jt);var gt=o(jt,2),pt=e(gt);bt(pt,{get open(){return n(N).watch},set open(re){n(N).watch=re},children:(re,Dt)=>{var se=vo(),pe=e(se);xt(pe,{class:"w-full",children:(oe,Ve)=>{var $=lo(),P=e($),y=e(P),L=e(y,!0);t(y);var E=o(y,2),G=e(E,!0);t(E),t(P);var X=o(P,2);rt(X,{variant:"ghost",size:"icon",class:"hover:bg-transparent",children:(k,M)=>{var S=be(),W=de(S);{var Q=u=>{mt(u,{size:20})},ne=u=>{ht(u,{size:20})};ze(W,u=>{n(N).watch?u(ne,!1):u(Q)})}a(k,S)},$$slots:{default:!0}}),t($),p((k,M)=>{i(L,k),i(G,M)},[()=>r()("config.watch.title"),()=>r()("config.watch.description")]),a(oe,$)},$$slots:{default:!0}});var Be=o(pe,2);$t(Be,{children:(oe,Ve)=>{var $=co(),P=e($),y=e(P),L=e(y),E=e(L);F(E,{for:"rate-window-size",children:(T,f)=>{j();var I=V();p(v=>i(I,v),[()=>r()("config.watch.rateWindowSize")]),a(T,I)},$$slots:{default:!0}});var G=o(E,2);const X=w(()=>x(["watch","rate_window_size"]));ae(G,{id:"rate-window-size",class:"font-mono",type:"number",get value(){return n(X)},onchange:T=>R(["watch","rate_window_size"],parseInt(T.currentTarget.value))});var k=o(G,2),M=e(k,!0);t(k),t(L);var S=o(L,2),W=e(S);F(W,{for:"sparsity-factor",children:(T,f)=>{j();var I=V();p(v=>i(I,v),[()=>r()("config.watch.sparsityFactor")]),a(T,I)},$$slots:{default:!0}});var Q=o(W,2);const ne=w(()=>x(["watch","sparsity_factor"]));ae(Q,{id:"sparsity-factor",class:"font-mono",type:"number",step:"0.1",get value(){return n(ne)},onchange:T=>R(["watch","sparsity_factor"],parseFloat(T.currentTarget.value))});var u=o(Q,2),Le=e(u,!0);t(u),t(S),t(y);var me=o(y,2),fe=e(me),$e=e(fe);F($e,{for:"processing-interval",children:(T,f)=>{j();var I=V();p(v=>i(I,v),[()=>r()("config.watch.processingInterval")]),a(T,I)},$$slots:{default:!0}});var Ie=o($e,2);const Fe=w(()=>x(["watch","processing_interval"]));ae(Ie,{id:"processing-interval",class:"font-mono",type:"number",get value(){return n(Fe)},onchange:T=>R(["watch","processing_interval"],parseInt(T.currentTarget.value))});var je=o(Ie,2),Se=e(je,!0);t(je),t(fe);var Oe=o(fe,2),Ne=e(Oe);F(Ne,{for:"idle-timeout",children:(T,f)=>{j();var I=V();p(v=>i(I,v),[()=>r()("config.watch.idleTimeout")]),a(T,I)},$$slots:{default:!0}});var q=o(Ne,2);const we=w(()=>x(["watch","idle_timeout"]));ae(q,{id:"idle-timeout",class:"font-mono",type:"number",get value(){return n(we)},onchange:T=>R(["watch","idle_timeout"],parseInt(T.currentTarget.value))});var le=o(q,2),he=e(le,!0);t(le),t(Oe),t(me);var Je=o(me,2),Me=e(Je),Re=e(Me);F(Re,{for:"idle-process-start",children:(T,f)=>{j();var I=V();p(v=>i(I,v),[()=>r()("config.watch.idleProcessStart")]),a(T,I)},$$slots:{default:!0}});var Qe=o(Re,2);const st=w(()=>{var T;return((T=x(["watch","idle_process_interval"]))==null?void 0:T[0])||"00:00"});ae(Qe,{id:"idle-process-start",class:"font-mono",type:"time",get value(){return n(st)},onchange:T=>{const f=x(["watch","idle_process_interval"])||["00:00","07:00"];R(["watch","idle_process_interval"],[T.currentTarget.value,f[1]])}}),t(Me);var Xe=o(Me,2),Ue=e(Xe);F(Ue,{for:"idle-process-end",children:(T,f)=>{j();var I=V();p(v=>i(I,v),[()=>r()("config.watch.idleProcessEnd")]),a(T,I)},$$slots:{default:!0}});var We=o(Ue,2);const qe=w(()=>{var T;return((T=x(["watch","idle_process_interval"]))==null?void 0:T[1])||"07:00"});ae(We,{id:"idle-process-end",class:"font-mono",type:"time",get value(){return n(qe)},onchange:T=>{const f=x(["watch","idle_process_interval"])||["00:00","07:00"];R(["watch","idle_process_interval"],[f[0],T.currentTarget.value])}});var Ze=o(We,2),Ke=e(Ze,!0);t(Ze),t(Xe),t(Je),t(P),t($),p((T,f,I,v,U)=>{i(M,T),i(Le,f),i(Se,I),i(he,v),i(Ke,U)},[()=>r()("config.watch.rateWindowSizeDesc"),()=>r()("config.watch.sparsityFactorDesc"),()=>r()("config.watch.processingIntervalDesc"),()=>r()("config.watch.idleTimeoutDesc"),()=>r()("config.watch.idleProcessDesc")]),a(oe,$)},$$slots:{default:!0}}),t(se),a(re,se)},$$slots:{default:!0}}),t(gt);var _t=o(gt,2),Fr=e(_t);bt(Fr,{get open(){return n(N).general},set open(re){n(N).general=re},children:(re,Dt)=>{var se=go(),pe=e(se);xt(pe,{class:"w-full",children:(oe,Ve)=>{var $=uo(),P=e($),y=e(P),L=e(y,!0);t(y);var E=o(y,2),G=e(E,!0);t(E),t(P);var X=o(P,2);rt(X,{variant:"ghost",size:"icon",class:"hover:bg-transparent",children:(k,M)=>{var S=be(),W=de(S);{var Q=u=>{mt(u,{size:20})},ne=u=>{ht(u,{size:20})};ze(W,u=>{n(N).general?u(ne,!1):u(Q)})}a(k,S)},$$slots:{default:!0}}),t($),p((k,M)=>{i(L,k),i(G,M)},[()=>r()("config.general.title"),()=>r()("config.general.description")]),a(oe,$)},$$slots:{default:!0}});var Be=o(pe,2);$t(Be,{children:(oe,Ve)=>{var $=fo(),P=e($),y=e(P),L=e(y),E=e(L);F(E,{for:"base-dir",children:(C,ut)=>{j();var _e=V();p(ot=>i(_e,ot),[()=>r()("config.general.baseDir")]),a(C,_e)},$$slots:{default:!0}});var G=o(E,2);const X=w(()=>x(["base_dir"]));ae(G,{id:"base-dir",class:"font-mono",get value(){return n(X)},onchange:C=>R(["base_dir"],C.currentTarget.value)});var k=o(G,2),M=e(k,!0);t(k),t(L);var S=o(L,2),W=e(S);F(W,{for:"screenshots-dir",children:(C,ut)=>{j();var _e=V();p(ot=>i(_e,ot),[()=>r()("config.general.screenshotsDir")]),a(C,_e)},$$slots:{default:!0}});var Q=o(W,2);const ne=w(()=>x(["screenshots_dir"]));ae(Q,{id:"screenshots-dir",class:"font-mono",get value(){return n(ne)},onchange:C=>R(["screenshots_dir"],C.currentTarget.value)});var u=o(Q,2),Le=e(u,!0);t(u),t(S),t(y);var me=o(y,2),fe=e(me),$e=e(fe);F($e,{for:"database-path",children:(C,ut)=>{j();var _e=V();p(ot=>i(_e,ot),[()=>r()("config.general.databasePath")]),a(C,_e)},$$slots:{default:!0}});var Ie=o($e,2);const Fe=w(()=>x(["database_path"]));ae(Ie,{id:"database-path",class:"font-mono",get value(){return n(Fe)},onchange:C=>R(["database_path"],C.currentTarget.value)});var je=o(Ie,2),Se=e(je,!0);t(je),t(fe);var Oe=o(fe,2),Ne=e(Oe);F(Ne,{for:"default-library",children:(C,ut)=>{j();var _e=V();p(ot=>i(_e,ot),[()=>r()("config.general.defaultLibrary")]),a(C,_e)},$$slots:{default:!0}});var q=o(Ne,2);const we=w(()=>x(["default_library"]));ae(q,{id:"default-library",class:"font-mono",get value(){return n(we)},onchange:C=>R(["default_library"],C.currentTarget.value)});var le=o(q,2),he=e(le,!0);t(le),t(Oe),t(me);var Je=o(me,2),Me=e(Je);const Re=w(()=>x(["facet"]));it(Me,{id:"facet-option",get checked(){return n(Re)},onCheckedChange:()=>{R(["facet"],!x(["facet"]))}});var Qe=o(Me,2),st=e(Qe);F(st,{for:"facet-option",children:(C,ut)=>{j();var _e=V();p(ot=>i(_e,ot),[()=>r()("config.general.enableFacet")]),a(C,_e)},$$slots:{default:!0}});var Xe=o(st,2),Ue=e(Xe,!0);t(Xe),t(Qe),t(Je);var We=o(Je,2),qe=e(We),Ze=e(qe,!0);t(qe);var Ke=o(qe,2),T=e(Ke);const f=w(()=>{var C;return(C=x(["default_plugins"]))==null?void 0:C.includes("builtin_ocr")});it(T,{id:"builtin-ocr",get checked(){return n(f)},onCheckedChange:()=>{const C=new Set(x(["default_plugins"])||[]);C.has("builtin_ocr")?C.delete("builtin_ocr"):C.add("builtin_ocr"),R(["default_plugins"],Array.from(C))}});var I=o(T,2);F(I,{for:"builtin-ocr",children:(C,ut)=>{j();var _e=V("Builtin OCR");a(C,_e)},$$slots:{default:!0}}),t(Ke);var v=o(Ke,2),U=e(v);const B=w(()=>{var C;return(C=x(["default_plugins"]))==null?void 0:C.includes("builtin_vlm")});it(U,{id:"builtin-vlm",get checked(){return n(B)},onCheckedChange:()=>{const C=new Set(x(["default_plugins"])||[]);C.has("builtin_vlm")?C.delete("builtin_vlm"):C.add("builtin_vlm"),R(["default_plugins"],Array.from(C))}});var et=o(U,2);F(et,{for:"builtin-vlm",children:(C,ut)=>{j();var _e=V("Builtin VLM");a(C,_e)},$$slots:{default:!0}}),t(v);var Z=o(v,2),Pe=e(Z,!0);t(Z),t(We),t(P),t($),p((C,ut,_e,ot,Wr,qr,Kr)=>{i(M,C),i(Le,ut),i(Se,_e),i(he,ot),i(Ue,Wr),i(Ze,qr),i(Pe,Kr)},[()=>r()("config.general.baseDirDesc"),()=>r()("config.general.screenshotsDirDesc"),()=>r()("config.general.databasePathDesc"),()=>r()("config.general.defaultLibraryDesc"),()=>r()("config.general.enableFacetDesc"),()=>r()("config.general.defaultPlugins"),()=>r()("config.general.defaultPluginsDesc")]),a(oe,$)},$$slots:{default:!0}}),t(se),a(re,se)},$$slots:{default:!0}}),t(_t);var Gt=o(_t,2),Jr=e(Gt);bt(Jr,{get open(){return n(N).serve},set open(re){n(N).serve=re},children:(re,Dt)=>{var se=mo(),pe=e(se);xt(pe,{class:"w-full",children:(oe,Ve)=>{var $=po(),P=e($),y=e(P),L=e(y,!0);t(y);var E=o(y,2),G=e(E,!0);t(E),t(P);var X=o(P,2);rt(X,{variant:"ghost",size:"icon",class:"hover:bg-transparent",children:(k,M)=>{var S=be(),W=de(S);{var Q=u=>{mt(u,{size:20})},ne=u=>{ht(u,{size:20})};ze(W,u=>{n(N).serve?u(ne,!1):u(Q)})}a(k,S)},$$slots:{default:!0}}),t($),p((k,M)=>{i(L,k),i(G,M)},[()=>r()("config.server.title"),()=>r()("config.server.description")]),a(oe,$)},$$slots:{default:!0}});var Be=o(pe,2);$t(Be,{children:(oe,Ve)=>{var $=_o(),P=e($),y=e(P),L=e(y),E=e(L);F(E,{for:"server-host",children:(q,we)=>{j();var le=V();p(he=>i(le,he),[()=>r()("config.server.host")]),a(q,le)},$$slots:{default:!0}});var G=o(E,2);const X=w(()=>x(["server_host"]));ae(G,{id:"server-host",class:"font-mono",get value(){return n(X)},onchange:q=>R(["server_host"],q.currentTarget.value)});var k=o(G,2),M=e(k,!0);t(k),t(L);var S=o(L,2),W=e(S);F(W,{for:"server-port",children:(q,we)=>{j();var le=V();p(he=>i(le,he),[()=>r()("config.server.port")]),a(q,le)},$$slots:{default:!0}});var Q=o(W,2);const ne=w(()=>x(["server_port"]));ae(Q,{id:"server-port",class:"font-mono",type:"number",get value(){return n(ne)},onchange:q=>R(["server_port"],parseInt(q.currentTarget.value))});var u=o(Q,2),Le=e(u,!0);t(u),t(S),t(y);var me=o(y,2),fe=e(me),$e=e(fe);F($e,{for:"auth-username",children:(q,we)=>{j();var le=V();p(he=>i(le,he),[()=>r()("config.server.username")]),a(q,le)},$$slots:{default:!0}});var Ie=o($e,2);const Fe=w(()=>x(["auth_username"]));ae(Ie,{id:"auth-username",class:"font-mono",get value(){return n(Fe)},onchange:q=>R(["auth_username"],q.currentTarget.value)}),t(fe);var je=o(fe,2),Se=e(je);F(Se,{for:"auth-password",children:(q,we)=>{j();var le=V();p(he=>i(le,he),[()=>r()("config.server.password")]),a(q,le)},$$slots:{default:!0}});var Oe=o(Se,2);const Ne=w(()=>x(["auth_password"])==="********"?"":x(["auth_password"]));ae(Oe,{id:"auth-password",class:"font-mono",type:"password",get value(){return n(Ne)},placeholder:"********",onchange:q=>{q.currentTarget.value&&R(["auth_password"],q.currentTarget.value)}}),t(je),t(me),t(P),t($),p((q,we)=>{i(M,q),i(Le,we)},[()=>r()("config.server.hostDesc"),()=>r()("config.server.portDesc")]),a(oe,$)},$$slots:{default:!0}}),t(se),a(re,se)},$$slots:{default:!0}}),t(Gt);var _r=o(Gt,2),Ur=e(_r);bt(Ur,{get open(){return n(N).embedding},set open(re){n(N).embedding=re},children:(re,Dt)=>{var se=$o(),pe=e(se);xt(pe,{class:"w-full",children:(oe,Ve)=>{var $=ho(),P=e($),y=e(P),L=e(y,!0);t(y);var E=o(y,2),G=e(E,!0);t(E),t(P);var X=o(P,2);rt(X,{variant:"ghost",size:"icon",class:"hover:bg-transparent",children:(k,M)=>{var S=be(),W=de(S);{var Q=u=>{mt(u,{size:20})},ne=u=>{ht(u,{size:20})};ze(W,u=>{n(N).embedding?u(ne,!1):u(Q)})}a(k,S)},$$slots:{default:!0}}),t($),p((k,M)=>{i(L,k),i(G,M)},[()=>r()("config.embedding.title"),()=>r()("config.embedding.description")]),a(oe,$)},$$slots:{default:!0}});var Be=o(pe,2);$t(Be,{children:(oe,Ve)=>{var $=xo(),P=e($),y=e(P);wr(y,{variant:"destructive",class:"bg-amber-50 border-amber-200 text-amber-700",children:(f,I)=>{Pr(f,{children:(v,U)=>{j();var B=bo(),et=de(B);j(),p(Z=>i(et,`${Z??""} `),[()=>r()("config.embedding.changeWarningPrefix",{default:"Changing the embedding model or dimensions requires restarting services and reindexing. After changes, run "})]),a(v,B)},$$slots:{default:!0}})},$$slots:{default:!0}});var L=o(y,2),E=e(L),G=e(E);const X=w(()=>x(["embedding","use_local"]));it(G,{id:"use-local-embedding",get checked(){return n(X)},onCheckedChange:()=>{Pt("embedding",!x(["embedding","use_local"]))}});var k=o(G,2),M=e(k);F(M,{for:"use-local-embedding",children:(f,I)=>{j();var v=V();p(U=>i(v,U),[()=>r()("config.embedding.useLocal")]),a(f,v)},$$slots:{default:!0}}),t(k),t(E);var S=o(E,2),W=e(S);const Q=w(()=>x(["embedding","use_modelscope"]));it(W,{id:"use-modelscope",get checked(){return n(Q)},onCheckedChange:()=>{R(["embedding","use_modelscope"],!x(["embedding","use_modelscope"]))}});var ne=o(W,2),u=e(ne);F(u,{for:"use-modelscope",children:(f,I)=>{j();var v=V();p(U=>i(v,U),[()=>r()("config.embedding.useModelscope")]),a(f,v)},$$slots:{default:!0}});var Le=o(u,2),me=e(Le,!0);t(Le),t(ne),t(S),t(L);var fe=o(L,2),$e=e(fe),Ie=e($e);F(Ie,{for:"embedding-model",children:(f,I)=>{j();var v=V();p(U=>i(v,U),[()=>r()("config.embedding.model")]),a(f,v)},$$slots:{default:!0}});var Fe=o(Ie,2);const je=w(()=>x(["embedding","model"]));ae(Fe,{id:"embedding-model",class:"font-mono",get value(){return n(je)},onchange:f=>R(["embedding","model"],f.currentTarget.value)});var Se=o(Fe,2),Oe=e(Se,!0);t(Se),t($e);var Ne=o($e,2),q=e(Ne);F(q,{for:"embedding-dimensions",children:(f,I)=>{j();var v=V();p(U=>i(v,U),[()=>r()("config.embedding.dimensions")]),a(f,v)},$$slots:{default:!0}});var we=o(q,2);const le=w(()=>x(["embedding","num_dim"]));ae(we,{id:"embedding-dimensions",class:"font-mono",type:"number",get value(){return n(le)},onchange:f=>R(["embedding","num_dim"],parseInt(f.currentTarget.value))});var he=o(we,2),Je=e(he,!0);t(he),t(Ne),t(fe);var Me=o(fe,2),Re=e(Me),Qe=e(Re);F(Qe,{for:"embedding-endpoint",children:(f,I)=>{j();var v=V();p(U=>i(v,U),[()=>r()("config.embedding.endpoint")]),a(f,v)},$$slots:{default:!0}});var st=o(Qe,2);const Xe=w(()=>x(["embedding","endpoint"]));ae(st,{id:"embedding-endpoint",class:"font-mono",get value(){return n(Xe)},get disabled(){return _.inputsDisabled.embedding},onchange:f=>R(["embedding","endpoint"],f.currentTarget.value)});var Ue=o(st,2),We=e(Ue,!0);t(Ue),t(Re);var qe=o(Re,2),Ze=e(qe);F(Ze,{for:"embedding-token",children:(f,I)=>{j();var v=V();p(U=>i(v,U),[()=>r()("config.embedding.token")]),a(f,v)},$$slots:{default:!0}});var Ke=o(Ze,2);const T=w(()=>x(["embedding","token"])==="********"?"":x(["embedding","token"]));ae(Ke,{id:"embedding-token",class:"font-mono",type:"password",get value(){return n(T)},placeholder:"********",get disabled(){return _.inputsDisabled.embedding},onchange:f=>{f.currentTarget.value&&R(["embedding","token"],f.currentTarget.value)}}),t(qe),t(Me),t(P),t($),p((f,I,v,U)=>{i(me,f),i(Oe,I),i(Je,v),i(We,U)},[()=>r()("config.embedding.useModelScopeDesc"),()=>r()("config.embedding.modelDesc"),()=>r()("config.embedding.dimensionsDesc"),()=>r()("config.embedding.endpointDesc")]),a(oe,$)},$$slots:{default:!0}}),t(se),a(re,se)},$$slots:{default:!0}}),t(_r),a(Y,Te)};ze(l,Y=>{n(b)&&Y(H)},D)}};ze(Hr,l=>{n(K)?l(Br):l(Vr,!1)})}t(Jt),p((l,D)=>{dr=Ft(Wt,1,"flex items-center justify-between p-4 transition-all duration-300",null,dr,l),i(Or,D)},[()=>({"shadow-md":n(c)}),()=>r()("config.title")]),a(d,Jt),He(),h()}function Lo(d,s){Ae(s,!1);function m(){ns("/")}Qr(),Po(d,{onBack:m}),He()}export{Lo as component};
