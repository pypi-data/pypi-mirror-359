{"version":3,"file":"node_modules_valtio_esm_index_mjs-_1cfe0.53dc639272eb7de27ff3.js","mappings":";;;;;;;;;;;;;;;;;;;;;;AAA+B;AACF;;;;;;;;;;;;;;;;;;ACDyF;AAC3C;AACtB;;AAErD;AACA,mBAAmB,6CAAM;AACzB,EAAE,gDAAS;AACX,uBAAuB,iEAAkB;AACzC,GAAG;AACH,EAAE,oDAAa;AACf;AACA;AACA;AACA;AACA;AACA,mBAAmB,8CAAO;AAC1B;AACA;AACA;AACA,uBAAuB,6CAAM;AAC7B;AACA,uBAAuB,2DAAoB;AAC3C,IAAI,kDAAW;AACf;AACA,sBAAsB,yDAAS;AAC/B;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,2BAA2B,wDAAQ;AACnC;AACA,kDAAkD,wDAAS;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,KAAK;AACL,UAAU,wDAAQ;AAClB;AACA;AACA,EAAE,sDAAe;AACjB;AACA,GAAG;AACH,OAAO,MAAe,GAAG,CAAoB;AAC7C;AACA;AACA,qBAAqB,8CAAO;AAC5B,SAAS,0DAAW;AACpB;;AAEuB","sources":["webpack://pret/./node_modules/valtio/esm/index.mjs","webpack://pret/./node_modules/valtio/esm/react.mjs"],"sourcesContent":["export * from 'valtio/vanilla';\nexport * from 'valtio/react';\n","import { useMemo, useRef, useSyncExternalStore, useCallback, useLayoutEffect, useEffect, useDebugValue } from 'react';\nimport { isChanged, createProxy, affectedToPathList } from 'proxy-compare';\nimport { subscribe, snapshot } from 'valtio/vanilla';\n\nconst useAffectedDebugValue = (state, affected) => {\n  const pathList = useRef(void 0);\n  useEffect(() => {\n    pathList.current = affectedToPathList(state, affected, true);\n  });\n  useDebugValue(pathList.current);\n};\nconst condUseAffectedDebugValue = useAffectedDebugValue;\nconst targetCache = /* @__PURE__ */ new WeakMap();\nfunction useSnapshot(proxyObject, options) {\n  const notifyInSync = options == null ? void 0 : options.sync;\n  const affected = useMemo(\n    () => proxyObject && /* @__PURE__ */ new WeakMap(),\n    [proxyObject]\n  );\n  const lastSnapshot = useRef(void 0);\n  let inRender = true;\n  const currSnapshot = useSyncExternalStore(\n    useCallback(\n      (callback) => {\n        const unsub = subscribe(proxyObject, callback, notifyInSync);\n        callback();\n        return unsub;\n      },\n      [proxyObject, notifyInSync]\n    ),\n    () => {\n      const nextSnapshot = snapshot(proxyObject);\n      try {\n        if (!inRender && lastSnapshot.current && !isChanged(\n          lastSnapshot.current,\n          nextSnapshot,\n          affected,\n          /* @__PURE__ */ new WeakMap()\n        )) {\n          return lastSnapshot.current;\n        }\n      } catch (e) {\n      }\n      return nextSnapshot;\n    },\n    () => snapshot(proxyObject)\n  );\n  inRender = false;\n  useLayoutEffect(() => {\n    lastSnapshot.current = currSnapshot;\n  });\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n    condUseAffectedDebugValue(currSnapshot, affected);\n  }\n  const proxyCache = useMemo(() => /* @__PURE__ */ new WeakMap(), []);\n  return createProxy(currSnapshot, affected, proxyCache, targetCache);\n}\n\nexport { useSnapshot };\n"],"names":[],"sourceRoot":""}