Metadata-Version: 2.4
Name: tgstattools
Version: 2.2.0
Summary: Advanced Telegram chat statistics collection and reporting daemon
Author-email: TgStatTools Team <team@tgstattools.dev>
License-Expression: Unlicense
Classifier: Development Status :: 4 - Beta
Classifier: Intended Audience :: Developers
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Classifier: Topic :: Communications :: Chat
Classifier: Topic :: System :: Monitoring
Requires-Python: >=3.9
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: telethon>=1.24.0
Requires-Dist: python-dotenv>=1.0.0
Requires-Dist: python-dateutil>=2.8.2
Requires-Dist: colorama>=0.4.6
Requires-Dist: aiofiles>=23.2.0
Requires-Dist: pytz>=2023.3
Provides-Extra: dev
Requires-Dist: pytest>=7.0.0; extra == "dev"
Requires-Dist: pytest-cov>=4.0.0; extra == "dev"
Requires-Dist: black>=23.0.0; extra == "dev"
Requires-Dist: isort>=5.12.0; extra == "dev"
Requires-Dist: flake8>=6.0.0; extra == "dev"
Requires-Dist: mypy>=1.0.0; extra == "dev"
Dynamic: license-file

# üìä TgStatTools v2.2

**–°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è Python-—Å–∏—Å—Ç–µ–º–∞ –¥–ª—è —Å–±–æ—Ä–∞ –∏ –∞–Ω–∞–ª–∏–∑–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ Telegram —á–∞—Ç–æ–≤ —Å –º–æ–¥—É–ª—å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π –∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –ª–æ–≥–∏–∫–æ–π —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏**

## üöÄ **–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç**

### 1Ô∏è‚É£ **–£—Å—Ç–∞–Ω–æ–≤–∫–∞**
```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git clone <repository-url>
cd TheProject

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install -r requirements.txt

# –ò–ª–∏ —Å–±–æ—Ä–∫–∞ –∏–∑ –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤
python -m build
pip install dist/tgstattools-2.2.0-py3-none-any.whl
```

### 2Ô∏è‚É£ **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è**
1. –ü–æ–ª—É—á–∏—Ç–µ API credentials –Ω–∞ https://my.telegram.org/apps
2. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `config/.env`:
```env
# Telegram API Configuration  
TELEGRAM_API_ID=YOUR_API_ID
TELEGRAM_API_HASH=YOUR_API_HASH

# Database path
DATABASE_PATH=data/statistics.db
```

### 3Ô∏è‚É£ **–°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Å—Å–∏–∏**
```bash
tgstattools generate-session
```

### 4Ô∏è‚É£ **–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è**
```bash
tgstattools test-connection
```

### 5Ô∏è‚É£ **–ü–µ—Ä–≤—ã–π —Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö**
```bash
tgstattools collect-previous-day
```

### 6Ô∏è‚É£ **–ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏**
```bash
tgstattools view-data previous-day
```

## üéØ **–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã**

### **üìä –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–∞–Ω–Ω—ã—Ö**
```bash
# –ë–∞–∑–æ–≤—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä
tgstattools view-data previous-day
tgstattools view-data date 2025-06-17
tgstattools view-data previous-week
tgstattools view-data previous-month
tgstattools view-data previous-quarter

# –° —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
tgstattools view-data previous-day --user-group smSupportUsers
tgstattools view-data previous-day --monitoring-group smPartnersMG
tgstattools view-data previous-day --user-group smSupportUsers --monitoring-group smPartnersMG

# –†–∞–∑–ª–∏—á–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã
tgstattools view-data previous-day sort_ascending
tgstattools view-data previous-day sort_descending
tgstattools view-data previous-day sort_ascending_excluding_zero_results
tgstattools view-data previous-day sort_descending_excluding_zero_results

# JSON —Ñ–æ—Ä–º–∞—Ç
tgstattools view-data previous-day --format json

# –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ Telegram
tgstattools view-data previous-day --send-to testReportChats
tgstattools view-data previous-day --user-group smSupportUsers --monitoring-group smPartnersMG --send-to dailyReports
```

### **üîÑ –°–±–æ—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏**
```bash
# –°–±–æ—Ä –∑–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏–π –¥–µ–Ω—å
tgstattools collect-previous-day

# –°–±–æ—Ä —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
tgstattools collect-previous-day --monitoring-group smPartnersMG

# –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π –ø–µ—Ä–µ—Å–±–æ—Ä
tgstattools collect-previous-day --force
```

### **üîß –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–æ–π**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
tgstattools test-connection

# –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
tgstattools validate-config

# –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
tgstattools backup-db
tgstattools backup-db --compress custom_backup.db

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
tgstattools restore-db data/backups/statistics_20250618_104220.db

# –°–ø—Ä–∞–≤–∫–∞
tgstattools --help
tgstattools --version
```

## üèóÔ∏è **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ v2.2 (–ú–æ–¥—É–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞)**

### **üéØ –ü—Ä–∏–Ω—Ü–∏–ø—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**
- **Single Responsibility Principle (SRP)** - –∫–∞–∂–¥—ã–π –º–æ–¥—É–ª—å –∏–º–µ–µ—Ç –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—É—é –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å
- **–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å** - —á–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏
- **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** - –≤—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–æ–º–∞–Ω–¥—ã —Ä–∞–±–æ—Ç–∞—é—Ç –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- **Store UTC, Display Local** - –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ UTC, –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –ª–æ–∫–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

### **üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞**
```
tgstattools/
‚îú‚îÄ‚îÄ cli.py                    # –ì–ª–∞–≤–Ω—ã–π CLI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îú‚îÄ‚îÄ commands/                 # CLI –∫–æ–º–∞–Ω–¥—ã
‚îÇ   ‚îú‚îÄ‚îÄ data_commands.py      # üìä –ö–æ–º–∞–Ω–¥—ã –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ database_commands.py  # üóÑÔ∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ session_commands.py   # üîê –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ simple_commands.py    # ‚ö° –£–ø—Ä–æ—â–µ–Ω–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
‚îÇ   ‚îî‚îÄ‚îÄ session/              # üîß –ú–æ–¥—É–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å–µ—Å—Å–∏–π
‚îÇ       ‚îú‚îÄ‚îÄ cli_handlers.py   # CLI –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
‚îÇ       ‚îú‚îÄ‚îÄ connection_tester.py # –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
‚îÇ       ‚îú‚îÄ‚îÄ input_collector.py   # –°–±–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –≤–≤–æ–¥–∞
‚îÇ       ‚îú‚îÄ‚îÄ output_formatter.py  # –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–≤–æ–¥–∞
‚îÇ       ‚îú‚îÄ‚îÄ session_auth_service.py # –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
‚îÇ       ‚îî‚îÄ‚îÄ session_validator.py    # –í–∞–ª–∏–¥–∞—Ü–∏—è —Å–µ—Å—Å–∏–π
‚îú‚îÄ‚îÄ core/                     # üèóÔ∏è –û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥—É–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ config/               # ‚öôÔ∏è –°–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ config_factory.py # –§–∞–±—Ä–∏–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ config_loader.py  # –ó–∞–≥—Ä—É–∑—á–∏–∫ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ config_validator.py # –í–∞–ª–∏–¥–∞—Ç–æ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ environment_manager.py # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ–º
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ group_manager.py  # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥—Ä—É–ø–ø–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ database/             # üóÑÔ∏è –†–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ connection.py     # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ cache_service.py  # –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ statistics_repository.py # –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ schema/           # üìã –°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ schema_creator.py   # –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ö–µ–º—ã
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ schema_validator.py # –í–∞–ª–∏–¥–∞—Ü–∏—è —Å—Ö–µ–º—ã
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ migration_runner.py # –ú–∏–≥—Ä–∞—Ü–∏–∏
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ db_statistics.py    # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ë–î
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ index_manager.py    # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ data_viewer/          # üëÅÔ∏è –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ data_processor.py # –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ data_query_engine.py # –î–≤–∏–∂–æ–∫ –∑–∞–ø—Ä–æ—Å–æ–≤
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ period_manager.py # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–∏–æ–¥–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ reporter/             # üìä –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ report_generator.py # –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –æ—Ç—á–µ—Ç–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ delivery_manager.py # –î–æ—Å—Ç–∞–≤–∫–∞ –æ—Ç—á–µ—Ç–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ group_resolver.py   # –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –≥—Ä—É–ø–ø
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ data/             # üìà –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ data_fetcher.py    # –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ group_filter.py    # –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –≥—Ä—É–ø–ø
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ data_converter.py  # –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ data_error_handler.py # –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
‚îÇ   ‚îú‚îÄ‚îÄ statistics/           # üìà –°–±–æ—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ chat_collector.py # –°–±–æ—Ä –∏–∑ —á–∞—Ç–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ chat_discovery.py # –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —á–∞—Ç–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ collectors.py     # –ö–æ–ª–ª–µ–∫—Ç–æ—Ä—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ utils.py         # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ validator.py     # –í–∞–ª–∏–¥–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ telegram/             # üì± Telegram API
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth_manager.py   # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ entity_manager.py # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—É—â–Ω–æ—Å—Ç—è–º–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ message_handler.py # –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ session_manager.py # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ template_processor/   # üé® –û–±—Ä–∞–±–æ—Ç–∫–∞ —à–∞–±–ª–æ–Ω–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ data_filter.py    # –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ data_models.py    # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ message_formatter.py # –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ percentage_calculator.py # –†–∞—Å—á–µ—Ç –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ template_loader.py # –ó–∞–≥—Ä—É–∑–∫–∞ —à–∞–±–ª–æ–Ω–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ user_utils/           # üë§ –£—Ç–∏–ª–∏—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ user_name_resolver.py # –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∏–º–µ–Ω
‚îÇ   ‚îú‚îÄ‚îÄ timezone_utils.py     # üåç –£—Ç–∏–ª–∏—Ç—ã –≤—Ä–µ–º–µ–Ω–∏
‚îÇ   ‚îî‚îÄ‚îÄ utils.py             # üîß –û–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã
‚îî‚îÄ‚îÄ config/                   # ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
    ‚îú‚îÄ‚îÄ monitoring_groups/    # üëÅÔ∏è –ì—Ä—É–ø–ø—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
    ‚îú‚îÄ‚îÄ user_groups/         # üë• –ì—Ä—É–ø–ø—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
    ‚îú‚îÄ‚îÄ reporting_groups/    # üì§ –ì—Ä—É–ø–ø—ã –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç–∏
    ‚îî‚îÄ‚îÄ result_display_templates/ # üé® –®–∞–±–ª–æ–Ω—ã –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
```

## üÜï **–ù–æ–≤–æ–µ –≤ –≤–µ—Ä—Å–∏–∏ 2.2**

### **üèóÔ∏è –ú–∞—Å—à—Ç–∞–±–Ω—ã–π SRP —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥**
- **–≠—Ç–∞–ø 1:** session_commands.py (628 —Å—Ç—Ä–æ–∫) ‚Üí 6 –º–æ–¥—É–ª–µ–π
- **–≠—Ç–∞–ø 2:** data_retriever.py (416 —Å—Ç—Ä–æ–∫) ‚Üí 4 –º–æ–¥—É–ª—è  
- **–≠—Ç–∞–ø 3:** schema_manager.py (384 —Å—Ç—Ä–æ–∫–∏) ‚Üí 5 –º–æ–¥—É–ª–µ–π
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –º–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å —á–µ—Ç–∫–∏–º —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏

### **üéØ –£–ø—Ä–æ—â–µ–Ω–∏–µ CLI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞**
- **7 –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–æ–º–∞–Ω–¥:** generate-session, test-connection, backup-db, restore-db, view-data, collect-previous-day, validate-config
- **–£–¥–∞–ª–µ–Ω—ã –ª–∏—à–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã:** collect-now, cleanup, check-dependencies, validate-db, migrate-schema, init-config
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–π:** report-in-chat-group –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ –≤ view-data —á–µ—Ä–µ–∑ --send-to

### **üîß –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è**
- **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –≥—Ä—É–ø–ø:** –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è Telegram chat ID (-1001749250725 ‚Üí 1749250725)
- **Range –∫–æ–º–∞–Ω–¥—ã:** –£–¥–∞–ª–µ–Ω—ã —Å–ª–æ–º–∞–Ω–Ω—ã–µ range sum/breakdown (–¥—É–±–ª–∏—Ä–æ–≤–∞–ª–∏ –¥–∞–Ω–Ω—ã–µ)
- **–ï–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:** –í—Å–µ –∫–æ–º–∞–Ω–¥—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—É—é –ª–æ–≥–∏–∫—É DataRetriever

### **üé® –£–ª—É—á—à–µ–Ω–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã**
- **sort_descending_excluding_zero_results** - –ø–æ —É–±—ã–≤–∞–Ω–∏—é –±–µ–∑ –Ω—É–ª–µ–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- **sort_ascending_excluding_zero_results** - –ø–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é –±–µ–∑ –Ω—É–ª–µ–π
- **sort_descending** - –ø–æ —É–±—ã–≤–∞–Ω–∏—é —Å–æ –≤—Å–µ–º–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏
- **sort_ascending** - –ø–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é —Å–æ –≤—Å–µ–º–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏

### **üìä –ì–∏–±–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏**
```bash
# –ë–µ–∑ —Ñ–∏–ª—å—Ç—Ä–æ–≤ (–≤—Å–µ –¥–∞–Ω–Ω—ã–µ)
tgstattools view-data previous-day
# –†–µ–∑—É–ª—å—Ç–∞—Ç: 1186 —Å–æ–æ–±—â–µ–Ω–∏–π, 33 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, 37 —á–∞—Ç–æ–≤

# –¢–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏
tgstattools view-data previous-day --user-group smSupportUsers  
# –†–µ–∑—É–ª—å—Ç–∞—Ç: 867 —Å–æ–æ–±—â–µ–Ω–∏–π, 12 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, 6 —á–∞—Ç–æ–≤

# –¢–æ–ª—å–∫–æ –ø–∞—Ä—Ç–Ω–µ—Ä—Å–∫–∏–µ —á–∞—Ç—ã
tgstattools view-data previous-day --monitoring-group smPartnersMG
# –†–µ–∑—É–ª—å—Ç–∞—Ç: 419 —Å–æ–æ–±—â–µ–Ω–∏–π, 13 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, 2 —á–∞—Ç–∞

# –ü–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –≤ –ø–∞—Ä—Ç–Ω–µ—Ä—Å–∫–∏—Ö —á–∞—Ç–∞—Ö
tgstattools view-data previous-day --user-group smSupportUsers --monitoring-group smPartnersMG
# –†–µ–∑—É–ª—å—Ç–∞—Ç: 211 —Å–æ–æ–±—â–µ–Ω–∏–π, 7 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, 2 —á–∞—Ç–∞
```

## üìä **–°–∏—Å—Ç–µ–º–∞ –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç–∏**

### **üéØ –û—Ç–ø—Ä–∞–≤–∫–∞ –æ—Ç—á–µ—Ç–æ–≤ –≤ Telegram**
```bash
# –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ —Ç–µ—Å—Ç–æ–≤—ã–µ —á–∞—Ç—ã
tgstattools view-data previous-day --send-to testReportChats

# –û—Ç–ø—Ä–∞–≤–∫–∞ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
tgstattools view-data previous-day --user-group smSupportUsers --monitoring-group smPartnersMG --send-to dailyReports

# –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ auto-discovery –≥—Ä—É–ø–ø—É (–≤—Å–µ —á–∞—Ç—ã)
tgstattools view-data previous-day --send-to all

# –†–∞–∑–ª–∏—á–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã
tgstattools view-data previous-day sort_ascending --send-to testReportChats
```

### **üì§ –î–æ—Å—Ç—É–ø–Ω—ã–µ reporting groups**
- **testReportChats** - —Ç–µ—Å—Ç–æ–≤—ã–µ —á–∞—Ç—ã (3 —á–∞—Ç–∞)
- **dailyReports** - –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –æ—Ç—á–µ—Ç—ã (5 —á–∞—Ç–æ–≤)
- **smSupPreviousDayReport** - –æ—Ç—á–µ—Ç—ã –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∑–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏–π –¥–µ–Ω—å
- **all** - auto-discovery –≥—Ä—É–ø–ø–∞ (–≤—Å–µ —Å–∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —á–∞—Ç—ã)

### **üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–æ—Å—Ç–∞–≤–∫–∏**
```
‚úÖ Report sent successfully!
üìä Total messages: 211
üë• Users: 7
üí¨ Chats: 2
üì§ Delivered to: 3/3 chats
```

## üîç **–°–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**

### **üë• –ì—Ä—É–ø–ø—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (user_groups/)**
```python
# smSupportUsers.py - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–ª—É–∂–±—ã –ø–æ–¥–¥–µ—Ä–∂–∫–∏
data = {
    "group_type": "user_group",
    "users": {
        123456789: "–ü–æ–ª—è",
        987654321: "es dzesi",
        # ... –¥—Ä—É–≥–∏–µ ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
    }
}
```

### **üëÅÔ∏è –ì—Ä—É–ø–ø—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ (monitoring_groups/)**
```python
# smPartnersMG.py - –ø–∞—Ä—Ç–Ω–µ—Ä—Å–∫–∏–µ —á–∞—Ç—ã
data = {
    "group_type": "monitoring_group", 
    "chats": {
        "-1001749250725": "–°–î–ï–õ–ö–ê–†–§ - Sign.me",
        "-1001234567890": "–¶–° –ê–ª—å—Ñ–∞-–ë–∞–Ω–∫ + Sign.me + SmartDeal"
    }
}
```

### **üì§ –ì—Ä—É–ø–ø—ã –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç–∏ (reporting_groups/)**
```python
# testReportChats.py - —Ç–µ—Å—Ç–æ–≤—ã–µ —á–∞—Ç—ã –¥–ª—è –æ—Ç—á–µ—Ç–æ–≤
data = {
    "group_type": "reporting_group",
    "chat_ids": {
        -1001234567891: "Test Chat #1",
        -1001234567892: "Test Chat #2", 
        -1001234567893: "Test Chat #3"
    }
}
```

## üé® **–®–∞–±–ª–æ–Ω—ã –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è**

### **üéØ –î–æ—Å—Ç—É–ø–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã**
1. **sort_descending_excluding_zero_results** (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
   - –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ —É–±—ã–≤–∞–Ω–∏—é
   - –ò—Å–∫–ª—é—á–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å 0 —Å–æ–æ–±—â–µ–Ω–∏–π
   - –õ—É—á—à–∏–π –¥–ª—è –µ–∂–µ–¥–Ω–µ–≤–Ω—ã—Ö –æ—Ç—á–µ—Ç–æ–≤

2. **sort_ascending_excluding_zero_results**
   - –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é
   - –ò—Å–∫–ª—é—á–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å 0 —Å–æ–æ–±—â–µ–Ω–∏–π
   - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞–∏–º–µ–Ω–µ–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

3. **sort_descending**
   - –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ —É–±—ã–≤–∞–Ω–∏—é
   - –í–∫–ª—é—á–∞–µ—Ç –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
   - –ü–æ–ª–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

4. **sort_ascending**
   - –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é
   - –í–∫–ª—é—á–∞–µ—Ç –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
   - –ü–æ–ª–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å —Ñ–æ–∫—É—Å–æ–º –Ω–∞ –Ω–∞–∏–º–µ–Ω–µ–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö

### **üìä –ü—Ä–∏–º–µ—Ä –æ—Ç—á–µ—Ç–∞**
```
==================================================
2025-06-17
–í—Å–µ–≥–æ: 211
–î–∑—ë—Å–∏ –ï—Å–µ–Ω–∏—è: 145 - 68.72%
–ë–æ–ª–æ—Ö–Ω–∏–Ω–∞ –ü–æ–ª–∏–Ω–∞: 25 - 11.85%
–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –†–∞–µ–≤—Å–∫–∏–π: 24 - 11.37%
–ê–Ω–∞–ø–æ–ª—å—Å–∫–∏–π –î–∞–≤–∏–¥: 11 - 5.21%
–ü—Ä–æ—â–∞–µ–≤ –ù–∏–∫–æ–ª–∞–π: 3 - 1.42%
–ú–∏–Ω–∞–µ–≤–∞ –ê–Ω–∞—Å—Ç–∞—Å–∏—è: 2 - 0.95%
–°–º–∏—Ä–Ω–æ–≤ –ê–ª–µ–∫—Å–µ–π: 1 - 0.47%

Monitoring group smPartnersMG:
–°–î–ï–õ–ö–ê–†–§ - Sign.me: 210 - 99.53%
–¶–° –ê–ª—å—Ñ–∞-–ë–∞–Ω–∫ + Sign.me + SmartDeal: 1 - 0.47%
==================================================
```

## üóÑÔ∏è **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö**

### **üíæ –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ**
```bash
# –û–±—ã—á–Ω—ã–π –±—ç–∫–∞–ø
tgstattools backup-db

# –°–∂–∞—Ç—ã–π –±—ç–∫–∞–ø
tgstattools backup-db --compress

# –ë—ç–∫–∞–ø –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ñ–∞–π–ª
tgstattools backup-db --compress custom_backup.db
```

### **üîÑ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ**
```bash
# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ –±—ç–∫–∞–ø–∞
tgstattools restore-db data/backups/statistics_20250618_104220.db

# –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
tgstattools restore-db data/backups/statistics_20250618_104220.db --force
```

### **üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö**
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Å—Ö–µ–º—ã** –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ
- **–ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏** –Ω–∞ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –ø–æ–ª—è—Ö
- **–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö** –ø—Ä–∏ –≤—Å—Ç–∞–≤–∫–µ
- **–ú–∏–≥—Ä–∞—Ü–∏–∏** –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

## üîß **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è**

### **üéØ –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏**
1. **–°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö:** –í—Å–µ –¥–∞–Ω–Ω—ã–µ —Å–æ–±–∏—Ä–∞—é—Ç—Å—è –¥–ª—è –≥—Ä—É–ø–ø—ã "all" (–±–µ–∑ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏)
2. **–•—Ä–∞–Ω–µ–Ω–∏–µ:** –î–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ UTC –≤—Ä–µ–º–µ–Ω–∏ –≤ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–º –≤–∏–¥–µ
3. **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è:** –ü—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è —Ñ–∏–ª—å—Ç—Ä—ã –ø–æ –≥—Ä—É–ø–ø–∞–º
4. **–ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è ID:** Telegram chat ID –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç –ë–î
5. **–ü–µ—Ä–µ—Å—á–µ—Ç –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤:** –ü—Ä–æ—Ü–µ–Ω—Ç—ã –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –¥–ª—è –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### **üîÑ –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è Chat ID**
```python
# –°—É–ø–µ—Ä–≥—Ä—É–ø–ø—ã: -1001234567890 ‚Üí 1234567890 (—É–±–∏—Ä–∞–µ–º -100)
# –û–±—ã—á–Ω—ã–µ –≥—Ä—É–ø–ø—ã: -1234567890 ‚Üí 1234567890 (—É–±–∏—Ä–∞–µ–º -)
# –ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ: 1234567890 ‚Üí 1234567890 (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
```

### **üìä –õ–æ–≥–∏–∫–∞ —Ä–∞—Å—á–µ—Ç–∞ –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤**
- **100%** = —Å—É–º–º–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã—Ö —á–∞—Ç–∞—Ö
- **–ù–µ 100%** ‚â† –æ–±—â–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –≤–æ –≤—Å–µ—Ö —á–∞—Ç–∞—Ö
- **–ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å:** –ü—Ä–æ—Ü–µ–Ω—Ç—ã –æ—Ç—Ä–∞–∂–∞—é—Ç —Ä–µ–∞–ª—å–Ω—É—é –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –≤ –∑–∞–¥–∞–Ω–Ω–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ

## üõ°Ô∏è **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è**

### **üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**
- **–ù–ï –∫–æ–º–º–∏—Ç—å—Ç–µ** .env —Ñ–∞–π–ª—ã –≤ Git
- **–ù–ï –¥–µ–ª–∏—Ç–µ—Å—å** API credentials –∏ —Ñ–∞–π–ª–∞–º–∏ —Å–µ—Å—Å–∏–π
- **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ** file sessions –¥–ª—è production
- **–†–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ** –∞–∫—Ç–∏–≤–Ω—ã–µ —Å–µ—Å—Å–∏–∏ –≤ Telegram

### **üìã –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è**
- **Python:** 3.9+
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** telethon, python-dotenv, build
- **–û–°:** Windows, Linux, macOS
- **–ü–∞–º—è—Ç—å:** ~50MB RAM
- **–î–∏—Å–∫:** ~10MB –¥–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### **üîß –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**
```bash
pip install telethon python-dotenv build
```

## üß™ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**

### **‚úÖ –ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö CLI –∫–æ–º–∞–Ω–¥
tgstattools --help
tgstattools --version
tgstattools test-connection
tgstattools validate-config

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –¥–∞–Ω–Ω—ã—Ö
tgstattools view-data previous-day
tgstattools view-data previous-day --user-group smSupportUsers
tgstattools view-data previous-day --monitoring-group smPartnersMG
tgstattools view-data previous-day --user-group smSupportUsers --monitoring-group smPartnersMG

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ –æ—Ç—á–µ—Ç–æ–≤
tgstattools view-data previous-day --send-to testReportChats
tgstattools view-data previous-day --user-group smSupportUsers --monitoring-group smPartnersMG --send-to testReportChats

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤
tgstattools view-data previous-day --format json
tgstattools view-data previous-day sort_ascending
```

### **üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**
| **–§—É–Ω–∫—Ü–∏—è** | **–°—Ç–∞—Ç—É—Å** | **–†–µ–∑—É–ª—å—Ç–∞—Ç** |
|-------------|------------|---------------|
| CLI –∫–æ–º–∞–Ω–¥—ã (7) | ‚úÖ | –í—Å–µ —Ä–∞–±–æ—Ç–∞—é—Ç |
| –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –≥—Ä—É–ø–ø | ‚úÖ | –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –ª–æ–≥–∏–∫–∞ |
| –®–∞–±–ª–æ–Ω—ã –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è (4) | ‚úÖ | –í—Å–µ —Ä–∞–±–æ—Ç–∞—é—Ç |
| –û—Ç–ø—Ä–∞–≤–∫–∞ –æ—Ç—á–µ—Ç–æ–≤ | ‚úÖ | –î–æ—Å—Ç–∞–≤–∫–∞ –≤ Telegram |
| –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ë–î | ‚úÖ | Backup/restore |
| JSON —Ñ–æ—Ä–º–∞—Ç | ‚úÖ | –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤—ã–≤–æ–¥ |
| –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ | ‚úÖ | Graceful degradation |

## üÜò **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫**

### **üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
tgstattools test-connection

# –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏  
tgstattools validate-config

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏
tgstattools --version

# –°–ø—Ä–∞–≤–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º
tgstattools --help
tgstattools view-data --help
```

### **‚ùå –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏**
1. **"Telegram client not authenticated"**
   - –†–µ—à–µ–Ω–∏–µ: `tgstattools generate-session`

2. **"Configuration file not found"**
   - –†–µ—à–µ–Ω–∏–µ: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª—ã –≤ config/

3. **"Could not find the input entity"**
   - –†–µ—à–µ–Ω–∏–µ: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ chat ID –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

4. **"API credentials not found"**
   - –†–µ—à–µ–Ω–∏–µ: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ config/.env —Ñ–∞–π–ª

## üìà **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**

### **‚ö° –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏**
- **–ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** - –±—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** - –ø–æ–≤—Ç–æ—Ä–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- **–ò–Ω–¥–µ–∫—Å—ã –ë–î** - –±—ã—Å—Ç—Ä—ã–µ –∑–∞–ø—Ä–æ—Å—ã
- **–ü–∞–∫–µ—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** - —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å –±–æ–ª—å—à–∏–º–∏ –æ–±—ä–µ–º–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö

### **üìä –ú–µ—Ç—Ä–∏–∫–∏**
- **–í—Ä–µ–º—è –∑–∞–ø—É—Å–∫–∞:** ~2 —Å–µ–∫—É–Ω–¥—ã
- **–ü–∞–º—è—Ç—å:** ~50MB RAM
- **–°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö:** ~1000 —Å–æ–æ–±—â–µ–Ω–∏–π/—Å–µ–∫—É–Ω–¥—É
- **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–∞:** ~0.1 —Å–µ–∫—É–Ω–¥—ã

## üöÄ **Roadmap**

### **üéØ –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è**
- **–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è–º–∏
- **REST API** –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏
- **–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞** —Å –≥—Ä–∞—Ñ–∏–∫–∞–º–∏ –∏ —Ç—Ä–µ–Ω–¥–∞–º–∏
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö**
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ** –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π

### **üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ**
- **–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** –¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç–∏
- **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è** —Å Docker
- **CI/CD –ø–∞–π–ø–ª–∞–π–Ω—ã** –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** –∏ –∞–ª–µ—Ä—Ç–∏–Ω–≥

---

## üìä **–°—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞**

**–í–µ—Ä—Å–∏—è:** 2.2.0  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ Production Ready  
**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:** ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–µ–Ω–Ω–∞—è (SRP)  
**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:** ‚úÖ 100% —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å  
**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** ‚úÖ –ü–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ  
**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** ‚úÖ –ê–∫—Ç—É–∞–ª—å–Ω–∞—è  

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-06-18

---

## üéâ **–ó–∞–∫–ª—é—á–µ–Ω–∏–µ**

TgStatTools v2.2 –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –∑—Ä–µ–ª—É—é, –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ Telegram —á–∞—Ç–æ–≤. –ë–ª–∞–≥–æ–¥–∞—Ä—è –º–æ–¥—É–ª—å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ, –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –ª–æ–≥–∏–∫–µ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∏ —É–¥–æ–±–Ω–æ–º—É CLI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É, —Å–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ–º—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –≤ production —Å—Ä–µ–¥–µ.

**–ö–ª—é—á–µ–≤—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è:**
- ‚úÖ **–ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø—É Single Responsibility  
- ‚úÖ **100% —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å** - –≤—Å–µ –∫–æ–º–∞–Ω–¥—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è** - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏
- ‚úÖ **–£–¥–æ–±–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** - –µ–¥–∏–Ω—ã–π CLI –¥–ª—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- ‚úÖ **–ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã –≤—Å–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- ‚úÖ **Production ready** - —Å–∏—Å—Ç–µ–º–∞ —Å—Ç–∞–±–∏–ª—å–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
