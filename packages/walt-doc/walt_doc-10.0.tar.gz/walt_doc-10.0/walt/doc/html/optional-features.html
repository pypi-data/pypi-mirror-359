<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Optional features of a WalT platform &mdash; WalT 10.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />

  
    <link rel="shortcut icon" href="_static/logo-walt.png"/>
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=864e5427"></script>
        <script src="_static/doctools.js?v=9a2dae69"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Shell completion setup (bash and zsh)" href="shell-completion.html" />
    <link rel="prev" title="Scope and design notes" href="design-notes.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: gray" >

          
          
          <a href="index.html" class="icon icon-home">
            WalT
              <img src="_static/logo-walt.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Admin / Installation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="admin.html">Admin documentation summary</a></li>
<li class="toctree-l1"><a class="reference internal" href="server-install.html">WalT server installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="server-upgrade.html">WalT server upgrade</a></li>
<li class="toctree-l1"><a class="reference internal" href="server-network-config.html">WalT server-side network configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="node-install.html">WalT node installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="switch-install.html">Switch installation in WalT network</a></li>
<li class="toctree-l1"><a class="reference internal" href="client-install.html">WalT client software installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="networking.html">WalT network structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="registries.html">WalT image registries</a></li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">Troubleshooting tips</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">User Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="shells.html">Shell usage notes</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Using nodes</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="node-ownership.html">Node ownership</a></li>
<li class="toctree-l1"><a class="reference internal" href="node-reboot.html">Rebooting WalT nodes</a></li>
<li class="toctree-l1"><a class="reference internal" href="node-config.html">Updating configuration settings about nodes</a></li>
<li class="toctree-l1"><a class="reference internal" href="node-console.html">Connecting to a node’s serial console</a></li>
<li class="toctree-l1"><a class="reference internal" href="node-cp.html">Transfering files to or from a node</a></li>
<li class="toctree-l1"><a class="reference internal" href="node-save.html">Saving the current OS state of a node</a></li>
<li class="toctree-l1"><a class="reference internal" href="node-expose.html">Exposing the TCP port of a node</a></li>
<li class="toctree-l1"><a class="reference internal" href="node-netsetup.html">Changing network mode for a WalT node</a></li>
<li class="toctree-l1"><a class="reference internal" href="vnode-networks.html">Configuring secondary networks on virtual nodes</a></li>
<li class="toctree-l1"><a class="reference internal" href="vnode-disks.html">Configuring disks on virtual nodes</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Using images</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="image-build.html">Building a WalT image from a Dockerfile</a></li>
<li class="toctree-l1"><a class="reference internal" href="image-cp.html">Transfering files to or from a walt image</a></li>
<li class="toctree-l1"><a class="reference internal" href="image-spec-file.html">Writting image spec files</a></li>
<li class="toctree-l1"><a class="reference internal" href="image-from-scratch.html">Creating a WalT image from scratch</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Using devices</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="device-sets.html">Device and node sets: use several devices at once</a></li>
<li class="toctree-l1"><a class="reference internal" href="device-config.html">Updating configuration settings about devices</a></li>
<li class="toctree-l1"><a class="reference internal" href="device-port-config.html">Viewing and updating switch ports configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="device-expose.html">Exposing the TCP port of a device</a></li>
<li class="toctree-l1"><a class="reference internal" href="device-netsetup.html">Changing network mode of a WalT node or device</a></li>
<li class="toctree-l1"><a class="reference internal" href="unmanaged-devices.html">Managing devices which do not implement WalT network booting</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Recording logs</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="logging.html">How to use WalT logging system</a></li>
<li class="toctree-l1"><a class="reference internal" href="log-show.html">How to query &amp; display experiment logs</a></li>
<li class="toctree-l1"><a class="reference internal" href="log-wait.html">Synchronizing a script based on expected logs</a></li>
<li class="toctree-l1"><a class="reference internal" href="log-checkpoint.html">Log checkpoints</a></li>
<li class="toctree-l1"><a class="reference internal" href="log-history.html">Displaying past logs</a></li>
<li class="toctree-l1"><a class="reference internal" href="log-realtime.html">Displaying logs in realtime</a></li>
<li class="toctree-l1"><a class="reference internal" href="log-issuers.html">Selecting log issuers</a></li>
<li class="toctree-l1"><a class="reference internal" href="log-format.html">Adapting log display format</a></li>
<li class="toctree-l1"><a class="reference internal" href="log-echo.html"><code class="docutils literal notranslate"><span class="pre">walt-log-echo</span></code> logging tool</a></li>
<li class="toctree-l1"><a class="reference internal" href="log-cat.html"><code class="docutils literal notranslate"><span class="pre">walt-log-cat</span></code> logging tool</a></li>
<li class="toctree-l1"><a class="reference internal" href="log-tee.html"><code class="docutils literal notranslate"><span class="pre">walt-log-tee</span></code> logging tool</a></li>
<li class="toctree-l1"><a class="reference internal" href="log-monitor.html"><code class="docutils literal notranslate"><span class="pre">walt-log-monitor</span></code> logging tool</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Scripting</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="scripting.html">Scripting WalT experiments</a></li>
<li class="toctree-l1"><a class="reference internal" href="scripting-nodes.html">scripting API: node management</a></li>
<li class="toctree-l1"><a class="reference internal" href="scripting-images.html">scripting API: image management</a></li>
<li class="toctree-l1"><a class="reference internal" href="scripting-logs.html">scripting API: logs management</a></li>
<li class="toctree-l1"><a class="reference internal" href="scripting-tools.html">scripting API: miscellaneous tools</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Web services</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="web-server.html">Web server</a></li>
<li class="toctree-l1"><a class="reference internal" href="web-api.html">Using the web API</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">VPN / distant nodes</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="vpn.html">How to use WalT built-in VPN and distant nodes</a></li>
<li class="toctree-l1"><a class="reference internal" href="vpn-security.html">WalT VPN Security notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="vpn-http-entrypoint.html">How to setup a WalT VPN HTTP entrypoint</a></li>
<li class="toctree-l1"><a class="reference internal" href="vpn-ssh-entrypoint.html">How to setup a WalT VPN SSH entrypoint</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">How it works</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="node-bootup.html">Node bootup procedure</a></li>
<li class="toctree-l1"><a class="reference internal" href="boot-modes.html">Boot modes: network boot and hybrid boot</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer docs</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="developer.html">Developer documentation summary</a></li>
<li class="toctree-l1"><a class="reference internal" href="dev-walt-python-packages.html">Repository: walt-python-packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="dev-client.html">Repository: walt-python-packages; walt-client code.</a></li>
<li class="toctree-l1"><a class="reference internal" href="dev-server.html">Repository: walt-python-packages; walt-server code.</a></li>
<li class="toctree-l1"><a class="reference internal" href="dev-server-db.html">WalT server database</a></li>
<li class="toctree-l1"><a class="reference internal" href="trackexec.html">Repository: walt-python-packages; trackexec tooling.</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Other topics</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="design-notes.html">Scope and design notes</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Optional features of a WalT platform</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#preliminary-note-about-snmp">Preliminary note about SNMP</a></li>
<li class="toctree-l2"><a class="reference internal" href="#automated-discovery-of-the-network-topology">Automated discovery of the network topology</a></li>
<li class="toctree-l2"><a class="reference internal" href="#poe-for-simplified-deployment-hard-reboots-and-power-savings">PoE for simplified deployment, hard-reboots and power savings</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#poe-for-simplified-deployment">PoE for simplified deployment</a></li>
<li class="toctree-l3"><a class="reference internal" href="#poe-hard-reboots">PoE hard-reboots</a></li>
<li class="toctree-l3"><a class="reference internal" href="#poe-power-saving">PoE power saving</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#activating-these-optional-features-in-walt">Activating these optional features in WalT</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="shell-completion.html">Shell completion setup (bash and zsh)</a></li>
<li class="toctree-l1"><a class="reference internal" href="compatibility.html">Compatibility notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="new-node-support.html">Adding support for a new node in WalT</a></li>
<li class="toctree-l1"><a class="reference internal" href="packaging.html">Packaging notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="rpi-serial.html">Using the serial port of a Raspberry Pi</a></li>
<li class="toctree-l1"><a class="reference internal" href="g5k.html">Deploying WalT on Grid’5000</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: gray" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">WalT</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Optional features of a WalT platform</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="optional-features-of-a-walt-platform">
<h1>Optional features of a WalT platform<a class="headerlink" href="#optional-features-of-a-walt-platform" title="Link to this heading"></a></h1>
<p>Depending on the network switches and their configuration, WalT may
provide the following valuable features.</p>
<section id="preliminary-note-about-snmp">
<h2>Preliminary note about SNMP<a class="headerlink" href="#preliminary-note-about-snmp" title="Link to this heading"></a></h2>
<p>SNMP is the Simple Network Management Protocol. It allows to automate
remote administration tasks on a network equipment. Most professional
grade switches handle this protocol. The following optional features of
WalT are not available otherwise.</p>
</section>
<section id="automated-discovery-of-the-network-topology">
<h2>Automated discovery of the network topology<a class="headerlink" href="#automated-discovery-of-the-network-topology" title="Link to this heading"></a></h2>
<p>LLDP is the Link Layer Discovery Protocol. It allows a network equipment
to know the list of its immediate (i.e., at mac layer) neighbors. If a
network switch of the WalT network has this feature and accepts remote
SNMP queries from the WalT server, then the WalT server can get the list
of devices connected on it. When configured to do so (see below), the
WalT server can query all switches (command <code class="docutils literal notranslate"><span class="pre">walt</span> <span class="pre">device</span> <span class="pre">rescan</span></code>) and
then display a whole tree of the WalT network (command
<code class="docutils literal notranslate"><span class="pre">walt</span> <span class="pre">device</span> <span class="pre">tree</span></code>).</p>
</section>
<section id="poe-for-simplified-deployment-hard-reboots-and-power-savings">
<h2>PoE for simplified deployment, hard-reboots and power savings<a class="headerlink" href="#poe-for-simplified-deployment-hard-reboots-and-power-savings" title="Link to this heading"></a></h2>
<section id="poe-for-simplified-deployment">
<h3>PoE for simplified deployment<a class="headerlink" href="#poe-for-simplified-deployment" title="Link to this heading"></a></h3>
<p>PoE means Power over Ethernet. It consists of using the same ethernet
cable for bringing both power and data to a device.</p>
<p>PoE corresponds to a standard protocol, named 802.3af (or 802.3at for
PoE+) which the devices at both ends must comply with. Thus, in the case
of WalT, we recommend to buy PoE compliant switches, and to power the
nodes with PoE when possible. For instance, raspberry pi boards 3B+ and
4B can be powered by a “PoE HAT” designed by the raspberry pi
foundation. Other boards can rely on an external PoE splitter.</p>
<p>Having one cable per node instead of two obviously simplifies platform
deployment. If a switch provides SNMP, LLDP and PoE features, WalT also
implements the more interesting features described below.</p>
</section>
<section id="poe-hard-reboots">
<h3>PoE hard-reboots<a class="headerlink" href="#poe-hard-reboots" title="Link to this heading"></a></h3>
<p>If a PoE-powered node is stuck for some reason (the experiment code
introduced a bug in the Linux kernel, a temporary firmware or network
issue occured, etc.), the WalT server may be able to power-cycle it
remotely, to force a reboot. The command <code class="docutils literal notranslate"><span class="pre">walt</span> <span class="pre">node</span> <span class="pre">reboot</span> <span class="pre">&lt;node&gt;</span></code>
actually tries a standard reboot request first, and if the node does not
reply, it will automatically run this hard-reboot operation if
available. The power-cycle operation is implemented by sending a request
to the switch to stop powering the port where the node is connected.
After one second, another request is sent to recover the powering.</p>
<p>Note: the switch must support PoE (obviously), SNMP (for remote
requests) and LLDP (to know on which port the node is connected).</p>
</section>
<section id="poe-power-saving">
<h3>PoE power saving<a class="headerlink" href="#poe-power-saving" title="Link to this heading"></a></h3>
<p>When a PoE-powered WalT node has not been used for 2 hours, WalT will
automatically disable PoE on the corresponding switch port to save
power. The concept of “unused node” is rather conservative: only free
nodes (cf. <a class="reference internal" href="node-ownership.html"><span class="doc">walt help show node-ownership</span></a>)
are considered unused after 2 hours. Thus, thanks to commands
<code class="docutils literal notranslate"><span class="pre">walt</span> <span class="pre">node</span> <span class="pre">acquire</span></code> and <code class="docutils literal notranslate"><span class="pre">walt</span> <span class="pre">node</span> <span class="pre">release</span></code>, experiments involving
unattended nodes and lasting more than 2 hours cannot be interrupted by
this power saving feature.</p>
<p>Again, this requires that the switch supports PoE (obviously), SNMP (for
remote requests) and LLDP (to know on which port the node is connected).</p>
</section>
</section>
<section id="activating-these-optional-features-in-walt">
<h2>Activating these optional features in WalT<a class="headerlink" href="#activating-these-optional-features-in-walt" title="Link to this heading"></a></h2>
<p>In some complex environments, remote administration of a given switch by
WalT may not be allowed; or LLDP/PoE may not be available. Thus, these
features are disabled by default. As a result, WALT must be explicitely
allowed to use these features on a given switch, by using
<a class="reference internal" href="device-config.html"><span class="doc">walt device config</span></a>.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="design-notes.html" class="btn btn-neutral float-left" title="Scope and design notes" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="shell-completion.html" class="btn btn-neutral float-right" title="Shell completion setup (bash and zsh)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2012-2023, Members of the WALT project.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script> 

</body>
</html>